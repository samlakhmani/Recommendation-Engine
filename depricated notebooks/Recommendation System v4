{"cells":[{"cell_type":"markdown","metadata":{"id":"cJ0bewBwDEvs"},"source":["# TOP"]},{"cell_type":"code","execution_count":1,"metadata":{"executionInfo":{"elapsed":400,"status":"ok","timestamp":1701123939371,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"QKK1X1sDGWhU"},"outputs":[],"source":["checkpoint_flag=0"]},{"cell_type":"code","execution_count":2,"metadata":{"executionInfo":{"elapsed":19566,"status":"ok","timestamp":1701123959390,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"mhyUG0NLDHeo"},"outputs":[],"source":["!pip install scikit-surprise --q"]},{"cell_type":"code","execution_count":3,"metadata":{"executionInfo":{"elapsed":2501,"status":"ok","timestamp":1701123961889,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"GAv7Jzk0WTdj"},"outputs":[],"source":["import pandas as pd\n","import numpy as np\n","import matplotlib.pyplot as plt\n","import seaborn as sns\n","\n","from sklearn.metrics import precision_score, recall_score, f1_score\n","from sklearn.metrics import mean_absolute_error, mean_squared_error\n","from sklearn.model_selection import train_test_split\n","from sklearn.metrics import mean_squared_error\n","from math import sqrt\n","from collections import defaultdict"]},{"cell_type":"code","execution_count":4,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":1482,"status":"ok","timestamp":1701123963368,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"qeyVT2sSWlHZ","outputId":"f90077f0-7432-41b0-8a77-62e71c8ffacb"},"outputs":[{"name":"stdout","output_type":"stream","text":["Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n"]}],"source":["# Load the Drive helper and mount\n","from google.colab import drive\n","drive.mount('/content/drive')"]},{"cell_type":"code","execution_count":5,"metadata":{"executionInfo":{"elapsed":1,"status":"ok","timestamp":1701123963368,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"xrVBFSFaXQ2A"},"outputs":[],"source":["import os\n","\n","os.chdir(\"/content/drive/MyDrive/Hunch/data\")"]},{"cell_type":"markdown","metadata":{"id":"aiMXiLDFbGke"},"source":["### Loading the data"]},{"cell_type":"code","execution_count":6,"metadata":{"executionInfo":{"elapsed":982,"status":"ok","timestamp":1701123964349,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"q7YBR-okXsSZ"},"outputs":[],"source":["events_data = pd.read_csv(\"Train_data.csv\")\n","poll_features = pd.read_csv(\"poll_question_features.csv\")"]},{"cell_type":"markdown","metadata":{"id":"CfuHA3wubGVY"},"source":["### Exploratory Data Analysis"]},{"cell_type":"markdown","metadata":{"id":"VnoJebYDdkHk"},"source":["#### Events data"]},{"cell_type":"markdown","metadata":{"id":"ZywFSLr9hbzZ"},"source":["**Investigating user_code**"]},{"cell_type":"code","execution_count":7,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":11,"status":"ok","timestamp":1701123964349,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"QNez8OWmX16z","outputId":"a36c7a2c-e9df-4f9f-be54-8c55be9821e0"},"outputs":[{"data":{"text/plain":["user_code    4499\n","poll_code     893\n","dtype: int64"]},"execution_count":7,"metadata":{},"output_type":"execute_result"}],"source":["events_data[['user_code','poll_code']].nunique()"]},{"cell_type":"code","execution_count":8,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":370,"status":"ok","timestamp":1701123964715,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"AbuXK289bRNb","outputId":"f6bd00e7-d74f-4de6-e06c-b70bbcee8bff"},"outputs":[{"data":{"text/plain":["4835"]},"execution_count":8,"metadata":{},"output_type":"execute_result"}],"source":["events_data['user_code_new'] = events_data.user_code.apply(lambda x : x.split(\"_\")[-1])\n","# some users user_code is missing and the value is unknown_user and such entries are being flagged as -1\n","events_data.loc[~events_data.user_code_new.str.isnumeric(),'user_code_new'] = -1\n","events_data['user_code_new'] = events_data['user_code_new'].astype(int)\n","events_data['user_code_new'].max()"]},{"cell_type":"code","execution_count":9,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123964715,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"9EvspzaIeOXF"},"outputs":[],"source":["\n","# some users dont have any events data\n","# Out of total users of 4835, we have events data for 4499 users\n"]},{"cell_type":"markdown","metadata":{"id":"_wjrEYNEhkyL"},"source":["**Investigating poll_code**"]},{"cell_type":"code","execution_count":10,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123964715,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"o-87Bbzlha6X","outputId":"9fbf29c7-d54a-444d-e487-92e234d02234"},"outputs":[{"data":{"text/plain":["user_code    4499\n","poll_code     893\n","dtype: int64"]},"execution_count":10,"metadata":{},"output_type":"execute_result"}],"source":["events_data[['user_code','poll_code']].nunique()"]},{"cell_type":"code","execution_count":11,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123964715,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"mtbhiSz8ftLT","outputId":"3b1d6a5e-ae1b-488c-9833-550f25dd02da"},"outputs":[{"data":{"text/plain":["920"]},"execution_count":11,"metadata":{},"output_type":"execute_result"}],"source":["events_data['poll_code_new'] = events_data.poll_code.apply(lambda x : x.split(\"_\")[-1])\n","# some users poll_code is missing and the value is unknown_user and such entries are being flagged as -1\n","events_data.loc[~events_data.poll_code_new.str.isnumeric(),'poll_code_new'] = -1\n","events_data['poll_code_new'] = events_data['poll_code_new'].astype(int)\n","events_data['poll_code_new'].max()"]},{"cell_type":"code","execution_count":12,"metadata":{"executionInfo":{"elapsed":1,"status":"ok","timestamp":1701123964715,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"NO0Gr_KyftLh"},"outputs":[],"source":["\n","# some users dont have any events data\n","# Out of total polls of 920, we have events data for 893 polls/questions\n"]},{"cell_type":"markdown","metadata":{"id":"AL6RDfoahoex"},"source":["**Investigating event type**"]},{"cell_type":"code","execution_count":13,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":397,"status":"ok","timestamp":1701123965111,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"00WIpGN5bSR_","outputId":"a65e773a-ce51-4d98-bd48-4dd2a341d3cd"},"outputs":[{"data":{"text/plain":["Impression        138739\n","Polls Answered    102950\n","Expand              5632\n","Session             3421\n","Shares               439\n","Name: event, dtype: int64"]},"execution_count":13,"metadata":{},"output_type":"execute_result"}],"source":["events_data.event.value_counts()"]},{"cell_type":"markdown","metadata":{"id":"BOmJbb7WiemL"},"source":["| Interaction Type | Description                                                                                              |\n","|------------------|----------------------------------------------------------------------------------------------------------|\n","| Session            | One login - logout                                               |\n","| Impression       | This indicates that the user only viewed the poll but did not participate in it                           |\n","| Expand           | This indicates that the user expanded the post to view the comments                                      |\n","| Shares           | This indicates that the user shared the post                                                              |\n","| Polls Answered   | Indicates that the user participated in the poll by voting for the option mentioned in the poll_option_id column |\n","\n"]},{"cell_type":"markdown","metadata":{"id":"8NVkEfBNiLCL"},"source":["**Investigating Event type - Session**"]},{"cell_type":"code","execution_count":14,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123965111,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"z3QFp4uLZr8z","outputId":"fb532dcd-1752-424d-edbe-8f47b5ff2db1"},"outputs":[{"data":{"text/plain":["-1    3421\n","Name: poll_code_new, dtype: int64"]},"execution_count":14,"metadata":{},"output_type":"execute_result"}],"source":["events_data[events_data.event=='Session'].poll_code_new.value_counts()"]},{"cell_type":"code","execution_count":15,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123965111,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"5B7p0Hrjd6Vd","outputId":"f4cec085-5177-45f7-e993-9cde1f176cce"},"outputs":[{"data":{"text/plain":["False    247760\n","True       3421\n","Name: poll_code, dtype: int64"]},"execution_count":15,"metadata":{},"output_type":"execute_result"}],"source":["(events_data.poll_code=='unknown_poll').value_counts()"]},{"cell_type":"code","execution_count":16,"metadata":{"executionInfo":{"elapsed":3,"status":"ok","timestamp":1701123965111,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"BA18pQ0Kd6Rs"},"outputs":[],"source":["## All events that are of type session, the poll_code is unknown_poll,\n","## which is genuine,\n","## as these events are login-logoff events"]},{"cell_type":"markdown","metadata":{"id":"--cky4gAiRqZ"},"source":["**Investigating Event type - Impression, Expand, Session, Shares**"]},{"cell_type":"code","execution_count":17,"metadata":{"executionInfo":{"elapsed":3,"status":"ok","timestamp":1701123965111,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"7xwo7vUbkexG"},"outputs":[],"source":["pd.set_option(\"display.max_rows\",200)"]},{"cell_type":"code","execution_count":18,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1701123965111,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"FA6msUOZjUsz","outputId":"a66accc7-0fa5-42d5-9488-57e70329a7b2"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-9607716f-e32d-480e-8c2b-c3cd5aa0902d\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003ecreatedAt\u003c/th\u003e\n","      \u003cth\u003euser_code\u003c/th\u003e\n","      \u003cth\u003epoll_code\u003c/th\u003e\n","      \u003cth\u003eevent\u003c/th\u003e\n","      \u003cth\u003eid_code\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141180\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:21:59 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_109\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175288\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141192\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:24:21 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_11\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175300\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141214\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:27:42 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_110\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175322\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141185\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:22:34 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_116\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175293\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141189\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:23:33 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_118\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175297\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141179\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:21:51 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_123\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175287\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141213\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:27:36 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_14\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175321\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141200\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:25:10 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_157\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175308\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141199\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:25:06 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_175\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175307\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141183\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:22:23 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_186\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175291\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141175\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:21:13 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_2\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175283\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141198\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:25:00 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_203\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175306\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141204\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:25:57 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_216\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175312\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141195\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:24:45 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_223\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175303\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141209\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:27:06 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_251\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175317\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141188\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:23:22 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_263\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175296\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141210\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:27:18 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_286\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175318\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141178\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:21:46 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_311\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175286\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141201\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:25:23 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_320\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175309\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141212\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:27:29 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_324\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175320\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141176\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:21:20 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_348\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175284\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141202\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:25:35 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_403\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175310\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141193\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:24:27 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_408\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175301\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141191\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:23:47 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_432\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175299\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141173\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:20:34 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_443\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175281\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141184\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:22:28 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_511\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175292\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141215\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:27:46 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_54\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175323\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141206\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:26:29 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_549\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175314\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141203\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:25:42 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_561\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175311\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141196\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:24:51 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_577\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175304\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141186\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:22:40 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_589\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175294\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141205\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:26:05 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_6\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175313\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141187\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:22:47 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_607\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175295\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141182\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:22:18 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_612\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175290\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141194\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:24:41 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_620\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175302\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141208\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:26:52 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_644\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175316\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141181\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:22:12 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_658\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175289\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141211\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:27:23 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_664\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175319\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141190\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:23:41 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_673\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175298\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141174\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:20:55 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_74\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175282\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141197\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:24:53 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_74\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175305\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141207\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:26:38 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_83\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175315\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e92006\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:21:40 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_91\u003c/td\u003e\n","      \u003ctd\u003eExpand\u003c/td\u003e\n","      \u003ctd\u003eoption_120407\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e141177\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:21:32 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003epoll_91\u003c/td\u003e\n","      \u003ctd\u003eImpression\u003c/td\u003e\n","      \u003ctd\u003eoption_175285\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e9926\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:22:48 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003eunknown_poll\u003c/td\u003e\n","      \u003ctd\u003eSession\u003c/td\u003e\n","      \u003ctd\u003eoption_29331\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e9927\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:26:08 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003eunknown_poll\u003c/td\u003e\n","      \u003ctd\u003eSession\u003c/td\u003e\n","      \u003ctd\u003eoption_29332\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e9928\u003c/th\u003e\n","      \u003ctd\u003e2023-01-24 09:27:54 UTC\u003c/td\u003e\n","      \u003ctd\u003euser_3019\u003c/td\u003e\n","      \u003ctd\u003eunknown_poll\u003c/td\u003e\n","      \u003ctd\u003eSession\u003c/td\u003e\n","      \u003ctd\u003eoption_29333\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-9607716f-e32d-480e-8c2b-c3cd5aa0902d')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-9607716f-e32d-480e-8c2b-c3cd5aa0902d button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-9607716f-e32d-480e-8c2b-c3cd5aa0902d');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-ac580fe4-c9d8-4178-b339-42c3ffb7f254\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-ac580fe4-c9d8-4178-b339-42c3ffb7f254')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-ac580fe4-c9d8-4178-b339-42c3ffb7f254 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["                      createdAt  user_code     poll_code       event  \\\n","141180  2023-01-24 09:21:59 UTC  user_3019      poll_109  Impression   \n","141192  2023-01-24 09:24:21 UTC  user_3019       poll_11  Impression   \n","141214  2023-01-24 09:27:42 UTC  user_3019      poll_110  Impression   \n","141185  2023-01-24 09:22:34 UTC  user_3019      poll_116  Impression   \n","141189  2023-01-24 09:23:33 UTC  user_3019      poll_118  Impression   \n","141179  2023-01-24 09:21:51 UTC  user_3019      poll_123  Impression   \n","141213  2023-01-24 09:27:36 UTC  user_3019       poll_14  Impression   \n","141200  2023-01-24 09:25:10 UTC  user_3019      poll_157  Impression   \n","141199  2023-01-24 09:25:06 UTC  user_3019      poll_175  Impression   \n","141183  2023-01-24 09:22:23 UTC  user_3019      poll_186  Impression   \n","141175  2023-01-24 09:21:13 UTC  user_3019        poll_2  Impression   \n","141198  2023-01-24 09:25:00 UTC  user_3019      poll_203  Impression   \n","141204  2023-01-24 09:25:57 UTC  user_3019      poll_216  Impression   \n","141195  2023-01-24 09:24:45 UTC  user_3019      poll_223  Impression   \n","141209  2023-01-24 09:27:06 UTC  user_3019      poll_251  Impression   \n","141188  2023-01-24 09:23:22 UTC  user_3019      poll_263  Impression   \n","141210  2023-01-24 09:27:18 UTC  user_3019      poll_286  Impression   \n","141178  2023-01-24 09:21:46 UTC  user_3019      poll_311  Impression   \n","141201  2023-01-24 09:25:23 UTC  user_3019      poll_320  Impression   \n","141212  2023-01-24 09:27:29 UTC  user_3019      poll_324  Impression   \n","141176  2023-01-24 09:21:20 UTC  user_3019      poll_348  Impression   \n","141202  2023-01-24 09:25:35 UTC  user_3019      poll_403  Impression   \n","141193  2023-01-24 09:24:27 UTC  user_3019      poll_408  Impression   \n","141191  2023-01-24 09:23:47 UTC  user_3019      poll_432  Impression   \n","141173  2023-01-24 09:20:34 UTC  user_3019      poll_443  Impression   \n","141184  2023-01-24 09:22:28 UTC  user_3019      poll_511  Impression   \n","141215  2023-01-24 09:27:46 UTC  user_3019       poll_54  Impression   \n","141206  2023-01-24 09:26:29 UTC  user_3019      poll_549  Impression   \n","141203  2023-01-24 09:25:42 UTC  user_3019      poll_561  Impression   \n","141196  2023-01-24 09:24:51 UTC  user_3019      poll_577  Impression   \n","141186  2023-01-24 09:22:40 UTC  user_3019      poll_589  Impression   \n","141205  2023-01-24 09:26:05 UTC  user_3019        poll_6  Impression   \n","141187  2023-01-24 09:22:47 UTC  user_3019      poll_607  Impression   \n","141182  2023-01-24 09:22:18 UTC  user_3019      poll_612  Impression   \n","141194  2023-01-24 09:24:41 UTC  user_3019      poll_620  Impression   \n","141208  2023-01-24 09:26:52 UTC  user_3019      poll_644  Impression   \n","141181  2023-01-24 09:22:12 UTC  user_3019      poll_658  Impression   \n","141211  2023-01-24 09:27:23 UTC  user_3019      poll_664  Impression   \n","141190  2023-01-24 09:23:41 UTC  user_3019      poll_673  Impression   \n","141174  2023-01-24 09:20:55 UTC  user_3019       poll_74  Impression   \n","141197  2023-01-24 09:24:53 UTC  user_3019       poll_74  Impression   \n","141207  2023-01-24 09:26:38 UTC  user_3019       poll_83  Impression   \n","92006   2023-01-24 09:21:40 UTC  user_3019       poll_91      Expand   \n","141177  2023-01-24 09:21:32 UTC  user_3019       poll_91  Impression   \n","9926    2023-01-24 09:22:48 UTC  user_3019  unknown_poll     Session   \n","9927    2023-01-24 09:26:08 UTC  user_3019  unknown_poll     Session   \n","9928    2023-01-24 09:27:54 UTC  user_3019  unknown_poll     Session   \n","\n","              id_code  \n","141180  option_175288  \n","141192  option_175300  \n","141214  option_175322  \n","141185  option_175293  \n","141189  option_175297  \n","141179  option_175287  \n","141213  option_175321  \n","141200  option_175308  \n","141199  option_175307  \n","141183  option_175291  \n","141175  option_175283  \n","141198  option_175306  \n","141204  option_175312  \n","141195  option_175303  \n","141209  option_175317  \n","141188  option_175296  \n","141210  option_175318  \n","141178  option_175286  \n","141201  option_175309  \n","141212  option_175320  \n","141176  option_175284  \n","141202  option_175310  \n","141193  option_175301  \n","141191  option_175299  \n","141173  option_175281  \n","141184  option_175292  \n","141215  option_175323  \n","141206  option_175314  \n","141203  option_175311  \n","141196  option_175304  \n","141186  option_175294  \n","141205  option_175313  \n","141187  option_175295  \n","141182  option_175290  \n","141194  option_175302  \n","141208  option_175316  \n","141181  option_175289  \n","141211  option_175319  \n","141190  option_175298  \n","141174  option_175282  \n","141197  option_175305  \n","141207  option_175315  \n","92006   option_120407  \n","141177  option_175285  \n","9926     option_29331  \n","9927     option_29332  \n","9928     option_29333  "]},"execution_count":18,"metadata":{},"output_type":"execute_result"}],"source":["events_data[\n","\n","    #getting single user data\n","    (events_data.user_code.isin(events_data.sample(1).user_code)) \u0026\n","\n","    #getting relevant events\n","    (events_data.event.isin(['Impression','Expand','Session','Shares']))\n","\n","].sort_values(['user_code','poll_code','event'])[['createdAt','user_code','poll_code','event','id_code']]"]},{"cell_type":"code","execution_count":19,"metadata":{"executionInfo":{"elapsed":200,"status":"ok","timestamp":1701123965309,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ZKC1C4kcNCib"},"outputs":[],"source":["events_data['user_poll_pair'] = events_data.user_code_new.astype(str) + \"_\" + events_data.poll_code_new.astype(str)"]},{"cell_type":"markdown","metadata":{"id":"Ka5R-oCXQAPN"},"source":["*Shares* - checking if all shares has impressions or not"]},{"cell_type":"code","execution_count":20,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":341,"status":"ok","timestamp":1701123965650,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"0Y3NH7VvMbV_","outputId":"86701cb6-9a9a-4ba3-bcc8-25b4aa077aee"},"outputs":[{"data":{"text/plain":["342"]},"execution_count":20,"metadata":{},"output_type":"execute_result"}],"source":["events_data[events_data.event=='Shares'].user_poll_pair.nunique()"]},{"cell_type":"code","execution_count":21,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":251,"status":"ok","timestamp":1701123965899,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"5vZiorAHNbEd","outputId":"ede6e79c-68d9-4ac4-f43d-69137252477a"},"outputs":[{"data":{"text/plain":["True     322\n","False     20\n","Name: user_poll_pair, dtype: int64"]},"execution_count":21,"metadata":{},"output_type":"execute_result"}],"source":["events_data[events_data.event=='Shares'].user_poll_pair.drop_duplicates().isin(events_data[events_data.event=='Impression'].user_poll_pair).value_counts()\n"]},{"cell_type":"code","execution_count":22,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123965899,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"MQbwK4R8QqLY"},"outputs":[],"source":["append1 = events_data[events_data.event=='Shares'].drop_duplicates('user_poll_pair',keep='first')[\n","    ~ events_data[events_data.event=='Shares'].user_poll_pair.drop_duplicates().isin(events_data[events_data.event=='Impression'].user_poll_pair)\n","]"]},{"cell_type":"code","execution_count":23,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123965899,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Z3SiyrhPQqLm"},"outputs":[],"source":["append1.event = 'Impression'"]},{"cell_type":"code","execution_count":24,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123966168,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"YLeEk_gDQvZH","outputId":"159874cb-9c14-4005-81be-135b0584feac"},"outputs":[{"data":{"text/plain":["(20, 13)"]},"execution_count":24,"metadata":{},"output_type":"execute_result"}],"source":["append1.shape"]},{"cell_type":"markdown","metadata":{"id":"dAymR8GgQMqh"},"source":["*Expand* - checking if all shares has impressions or not"]},{"cell_type":"code","execution_count":25,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3,"status":"ok","timestamp":1701123966168,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ptPuDjs6OAaP","outputId":"709a1b79-41dd-47cb-db80-93e79df32b80"},"outputs":[{"data":{"text/plain":["4642"]},"execution_count":25,"metadata":{},"output_type":"execute_result"}],"source":["events_data[events_data.event=='Expand'].user_poll_pair.nunique()"]},{"cell_type":"code","execution_count":26,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":258,"status":"ok","timestamp":1701123966424,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"6Oj53FmVN5HU","outputId":"695c08e4-f04d-4a1d-819a-4a3f04e5b76a"},"outputs":[{"data":{"text/plain":["True     4476\n","False     166\n","Name: user_poll_pair, dtype: int64"]},"execution_count":26,"metadata":{},"output_type":"execute_result"}],"source":["events_data[events_data.event=='Expand'].user_poll_pair.drop_duplicates().isin(events_data[events_data.event=='Impression'].user_poll_pair).value_counts()"]},{"cell_type":"code","execution_count":27,"metadata":{"executionInfo":{"elapsed":372,"status":"ok","timestamp":1701123966795,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"sPMbn37LPCOl"},"outputs":[],"source":["append2 = events_data[events_data.event=='Expand'].drop_duplicates('user_poll_pair',keep='first')[\n","    ~ events_data[events_data.event=='Expand'].user_poll_pair.drop_duplicates().isin(events_data[events_data.event=='Impression'].user_poll_pair)\n","]"]},{"cell_type":"code","execution_count":28,"metadata":{"executionInfo":{"elapsed":8,"status":"ok","timestamp":1701123966796,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"BEkpYjJCQd3X"},"outputs":[],"source":["append2.event = 'Impression'"]},{"cell_type":"code","execution_count":29,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":7,"status":"ok","timestamp":1701123966796,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"xaEAiE8ZQzVy","outputId":"6f0f5a6a-f0c0-4749-8a22-c695314dff1c"},"outputs":[{"data":{"text/plain":["(166, 13)"]},"execution_count":29,"metadata":{},"output_type":"execute_result"}],"source":["append2.shape"]},{"cell_type":"markdown","metadata":{"id":"gpdAtreCQMy_"},"source":["*Polls Answered* - checking if all shares has impressions or not"]},{"cell_type":"code","execution_count":30,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123966796,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"F6wyIF42OA7b","outputId":"73618f92-6d13-41ed-86c6-bd4e7b17e578"},"outputs":[{"data":{"text/plain":["102916"]},"execution_count":30,"metadata":{},"output_type":"execute_result"}],"source":["events_data[events_data.event=='Polls Answered'].user_poll_pair.nunique()"]},{"cell_type":"code","execution_count":31,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":312,"status":"ok","timestamp":1701123967105,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"rEy-wUuIN5pM","outputId":"85795d5a-b7e3-4dcc-95d7-d43aa7407ef2"},"outputs":[{"data":{"text/plain":["True     83751\n","False    19165\n","Name: user_poll_pair, dtype: int64"]},"execution_count":31,"metadata":{},"output_type":"execute_result"}],"source":["events_data[events_data.event=='Polls Answered'].user_poll_pair.drop_duplicates().isin(events_data[events_data.event=='Impression'].user_poll_pair).value_counts()"]},{"cell_type":"code","execution_count":32,"metadata":{"executionInfo":{"elapsed":524,"status":"ok","timestamp":1701123967627,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"3MqJrdUHQ3NC"},"outputs":[],"source":["append3 = events_data[events_data.event=='Polls Answered'].drop_duplicates('user_poll_pair',keep='first')[\n","    ~ events_data[events_data.event=='Polls Answered'].user_poll_pair.drop_duplicates().isin(events_data[events_data.event=='Impression'].user_poll_pair)\n","]"]},{"cell_type":"code","execution_count":33,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123967627,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"gJo_ZlUNQ3NP"},"outputs":[],"source":["append3.event = 'Impression'"]},{"cell_type":"code","execution_count":34,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123967627,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"D7bCRM_qQ3NP","outputId":"92850162-db41-44d9-8d9b-23fa9d0d9c21"},"outputs":[{"data":{"text/plain":["(19165, 13)"]},"execution_count":34,"metadata":{},"output_type":"execute_result"}],"source":["append3.shape"]},{"cell_type":"code","execution_count":35,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123967628,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"zHAXJncpRJdi"},"outputs":[],"source":["events_data = pd.concat([events_data,append1,append2,append3],axis=0)"]},{"cell_type":"code","execution_count":36,"metadata":{"executionInfo":{"elapsed":302,"status":"ok","timestamp":1701123967928,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"E3ZrNEDxj42T"},"outputs":[],"source":["## impression indicates that the user has seen the poll\n","## after Impression user can Expand, Share or Answer\n","## A lot of Polls Answered didnt have impression - which was odd, thus events were created"]},{"cell_type":"markdown","metadata":{"id":"B3m__ZBPo4wP"},"source":["**Investigating id_code**"]},{"cell_type":"code","execution_count":37,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123967929,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"dLTqpv6IozPj","outputId":"2422b91d-1481-4707-9a78-1a9fa7da5201"},"outputs":[{"data":{"text/plain":["0          option_17106\n","1          option_17107\n","2          option_17108\n","3          option_17109\n","4          option_17110\n","              ...      \n","251143    option_184762\n","251146    option_185051\n","251177    option_184768\n","251178    option_184767\n","251179    option_184768\n","Name: id_code, Length: 270532, dtype: object"]},"execution_count":37,"metadata":{},"output_type":"execute_result"}],"source":["events_data.id_code"]},{"cell_type":"code","execution_count":38,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123967929,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"LYJMETS1iRqj","outputId":"88fa73ad-b77e-4150-fab4-b7e7d2365684"},"outputs":[{"data":{"text/plain":["0"]},"execution_count":38,"metadata":{},"output_type":"execute_result"}],"source":["events_data.id_code.isnull().sum()"]},{"cell_type":"code","execution_count":39,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":214,"status":"ok","timestamp":1701123968141,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Vwr35MT-d6I8","outputId":"81beaef1-0290-45d9-bbfe-a832142375b7"},"outputs":[{"data":{"text/plain":["0"]},"execution_count":39,"metadata":{},"output_type":"execute_result"}],"source":["events_data[events_data.event==\"Session\"].id_code.isnull().sum()"]},{"cell_type":"code","execution_count":40,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123968141,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"fWInytoF34YT"},"outputs":[],"source":["# id_code is not clear, how can a Session have an option_id.\n","# It makes sense that there is id_code for Polls Answered but having an id_code for any other event is not possible.\n","# Thus the description doesnt match the data\n","# we shall ignore the column"]},{"cell_type":"markdown","metadata":{"id":"HbqJjRB94zll"},"source":["#### Investigating other user-based data-points :\n","\n","* 'country'\n","* 'city_code'\n","* 'gender'\n","* 'age'\n","* 'college_code'"]},{"cell_type":"code","execution_count":41,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123968141,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Za-zeHdK4_FT"},"outputs":[],"source":["columns = ['country','city_code','gender','age','college_code']"]},{"cell_type":"code","execution_count":42,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":908,"status":"ok","timestamp":1701123969047,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"aQrjIVfu5BeK","outputId":"ce576e69-0540-4355-f287-79b5ca3e59f8"},"outputs":[{"name":"stdout","output_type":"stream","text":["country\n","4499 (4499, 2) \n","\n","city_code\n","4499 (4499, 2) \n","\n","gender\n","4499 (4500, 2) \n","\n","age\n","2031 (2031, 2) \n","\n","college_code\n","1221 (1221, 2) \n","\n"]}],"source":["user_features = pd.DataFrame()\n","\n","for i in columns :\n","\n","  temp = events_data[['user_code',i]].groupby(['user_code',i]).count().reset_index()\n","\n","  print(i)\n","\n","  #checking is same user has multiple entries or not\n","  print(temp.user_code.nunique(), temp.shape,\"\\n\")\n","\n","  if i == 'country' :\n","    user_features = temp\n","  else :\n","    user_features = user_features.merge(temp,on='user_code',how='left')\n","\n","user_features = user_features[user_features.user_code!='unknown_user']"]},{"cell_type":"code","execution_count":43,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"executionInfo":{"elapsed":8,"status":"ok","timestamp":1701123969047,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"pgyyjEcx-k2k","outputId":"05d85e54-96c6-49cc-8271-a679af7cca7c"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-4b70fe70-6bf1-4072-ba31-2f4d0b524a77\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003euser_code\u003c/th\u003e\n","      \u003cth\u003ecountry\u003c/th\u003e\n","      \u003cth\u003ecity_code\u003c/th\u003e\n","      \u003cth\u003egender\u003c/th\u003e\n","      \u003cth\u003eage\u003c/th\u003e\n","      \u003cth\u003ecollege_code\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003euser_1\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e18.0\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003euser_10\u003c/td\u003e\n","      \u003ctd\u003eunknown_country\u003c/td\u003e\n","      \u003ctd\u003eunknown_city\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003euser_100\u003c/td\u003e\n","      \u003ctd\u003eunknown_country\u003c/td\u003e\n","      \u003ctd\u003eunknown_city\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003euser_1000\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e5\u003c/th\u003e\n","      \u003ctd\u003euser_1001\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_57\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e21.0\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4b70fe70-6bf1-4072-ba31-2f4d0b524a77')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-4b70fe70-6bf1-4072-ba31-2f4d0b524a77 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-4b70fe70-6bf1-4072-ba31-2f4d0b524a77');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-b7b592aa-8cef-42a4-a2af-0f3d31e15810\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-b7b592aa-8cef-42a4-a2af-0f3d31e15810')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-b7b592aa-8cef-42a4-a2af-0f3d31e15810 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["   user_code          country     city_code           gender   age  \\\n","1     user_1        country_1        city_1             male  18.0   \n","2    user_10  unknown_country  unknown_city  skipped_by_user   NaN   \n","3   user_100  unknown_country  unknown_city  skipped_by_user   NaN   \n","4  user_1000        country_1        city_1  skipped_by_user   NaN   \n","5  user_1001        country_1       city_57             male  21.0   \n","\n","  college_code  \n","1          NaN  \n","2          NaN  \n","3          NaN  \n","4          NaN  \n","5          NaN  "]},"execution_count":43,"metadata":{},"output_type":"execute_result"}],"source":["user_features.head()"]},{"cell_type":"code","execution_count":44,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":6,"status":"ok","timestamp":1701123969047,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"vbA5OK93-EUa","outputId":"e1ff9719-1dae-4f11-daef-30f65e826a6b"},"outputs":[{"name":"stdout","output_type":"stream","text":["\u003cclass 'pandas.core.frame.DataFrame'\u003e\n","Int64Index: 4499 entries, 1 to 4499\n","Data columns (total 6 columns):\n"," #   Column        Non-Null Count  Dtype  \n","---  ------        --------------  -----  \n"," 0   user_code     4499 non-null   object \n"," 1   country       4499 non-null   object \n"," 2   city_code     4499 non-null   object \n"," 3   gender        4499 non-null   object \n"," 4   age           2032 non-null   float64\n"," 5   college_code  1222 non-null   object \n","dtypes: float64(1), object(5)\n","memory usage: 246.0+ KB\n"]}],"source":["user_features.info()"]},{"cell_type":"code","execution_count":45,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":364},"executionInfo":{"elapsed":635,"status":"ok","timestamp":1701123969678,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"zLwaS1lk4JCu","outputId":"dd2c0206-a230-41b6-efa0-e5a487bc74e8"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-3ec38fa0-4e4e-4ade-ae36-856e240ebc0d\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003ecountry\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003ecountry_1\u003c/th\u003e\n","      \u003ctd\u003e4285\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3ec38fa0-4e4e-4ade-ae36-856e240ebc0d')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-3ec38fa0-4e4e-4ade-ae36-856e240ebc0d button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3ec38fa0-4e4e-4ade-ae36-856e240ebc0d');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["           country\n","country_1     4285"]},"metadata":{},"output_type":"display_data"},{"data":{"text/html":["\n","  \u003cdiv id=\"df-ed860baa-07da-4dbe-bc08-e76bc1385e3b\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003ecity_code\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003ecity_1\u003c/th\u003e\n","      \u003ctd\u003e3351\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003ecity_18\u003c/th\u003e\n","      \u003ctd\u003e238\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ed860baa-07da-4dbe-bc08-e76bc1385e3b')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-ed860baa-07da-4dbe-bc08-e76bc1385e3b button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-ed860baa-07da-4dbe-bc08-e76bc1385e3b');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-6e0bfc89-b002-4d91-833e-7f59a496e4c0\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-6e0bfc89-b002-4d91-833e-7f59a496e4c0')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-6e0bfc89-b002-4d91-833e-7f59a496e4c0 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["         city_code\n","city_1        3351\n","city_18        238"]},"metadata":{},"output_type":"display_data"},{"data":{"text/html":["\n","  \u003cdiv id=\"df-60275732-c57b-409e-a0c7-c3a89812eb19\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003egender\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003eskipped_by_user\u003c/th\u003e\n","      \u003ctd\u003e2496\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003emale\u003c/th\u003e\n","      \u003ctd\u003e1668\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003efemale\u003c/th\u003e\n","      \u003ctd\u003e310\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-60275732-c57b-409e-a0c7-c3a89812eb19')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-60275732-c57b-409e-a0c7-c3a89812eb19 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-60275732-c57b-409e-a0c7-c3a89812eb19');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-4cd73fdc-a90e-4ae8-8bd4-033b4d556e69\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-4cd73fdc-a90e-4ae8-8bd4-033b4d556e69')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-4cd73fdc-a90e-4ae8-8bd4-033b4d556e69 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["                 gender\n","skipped_by_user    2496\n","male               1668\n","female              310"]},"metadata":{},"output_type":"display_data"},{"data":{"text/html":["\n","  \u003cdiv id=\"df-3b82900c-720f-4f01-9bde-c99d9f0e6e0b\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003ecollege_code\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003eOther\u003c/th\u003e\n","      \u003ctd\u003e494\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3b82900c-720f-4f01-9bde-c99d9f0e6e0b')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-3b82900c-720f-4f01-9bde-c99d9f0e6e0b button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3b82900c-720f-4f01-9bde-c99d9f0e6e0b');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["       college_code\n","Other           494"]},"metadata":{},"output_type":"display_data"}],"source":["for i in ['country', 'city_code', 'gender', 'college_code'] :\n","\n","  #printing value_counts - to estimate null_values vs missing imputations\n","\n","  temp2 = pd.DataFrame(user_features[i].value_counts())\n","  temp2 = temp2[temp2[i] \u003e 225]\n","\n","  #5% of total unique users 4500 = 225\n","  #logic is minimum bucket size should be 5%\n","\n","  display(temp2)"]},{"cell_type":"code","execution_count":46,"metadata":{"executionInfo":{"elapsed":14,"status":"ok","timestamp":1701123969678,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Fq6mT_WU4o05"},"outputs":[],"source":["\n","\n","# most users are from the same country\n","# most users are from 2 cities, others we will ignore\n","# age we will have to bucket\n","# even college code that is significant os others, thus, we will make 2 buckets of college code\n","\n"]},{"cell_type":"code","execution_count":47,"metadata":{"executionInfo":{"elapsed":14,"status":"ok","timestamp":1701123969678,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"aBZ2uU4G4o7l"},"outputs":[],"source":["user_features.loc[user_features.country != 'country_1', 'country'] = 'Others'"]},{"cell_type":"code","execution_count":48,"metadata":{"executionInfo":{"elapsed":14,"status":"ok","timestamp":1701123969678,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Ue_5BB3VBL5m"},"outputs":[],"source":["user_features.loc[~user_features.city_code.isin(['city_1','city_18']), 'city_code'] = 'Others'"]},{"cell_type":"code","execution_count":49,"metadata":{"executionInfo":{"elapsed":13,"status":"ok","timestamp":1701123969678,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"j52piSyu4I-_"},"outputs":[],"source":["user_features.loc[~user_features.gender.isin(['male','female','skipped_by_user']), 'gender'] = 'Others'"]},{"cell_type":"code","execution_count":50,"metadata":{"executionInfo":{"elapsed":13,"status":"ok","timestamp":1701123969678,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"bS_AqD1N4I6v"},"outputs":[],"source":["user_features.loc[user_features.college_code.isin(['Other']), 'college_code']  = 'code_missing_aka_others'\n","user_features.loc[~user_features.college_code.isin(['Other']), 'college_code']  = 'code_present'\n","user_features.college_code = user_features.college_code.fillna(\"skipped\")"]},{"cell_type":"code","execution_count":51,"metadata":{"executionInfo":{"elapsed":13,"status":"ok","timestamp":1701123969678,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"DGYBr5qMCnFz"},"outputs":[],"source":["user_features.age = pd.qcut(user_features.age,3)"]},{"cell_type":"code","execution_count":52,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":13,"status":"ok","timestamp":1701123969678,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"pvsUakt4ENAQ","outputId":"312194c5-0df2-424f-cd14-08579f07598a"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-f39e92fa-334c-4c71-88b8-c984687cf48e\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003euser_code\u003c/th\u003e\n","      \u003cth\u003ecountry\u003c/th\u003e\n","      \u003cth\u003ecity_code\u003c/th\u003e\n","      \u003cth\u003egender\u003c/th\u003e\n","      \u003cth\u003eage\u003c/th\u003e\n","      \u003cth\u003ecollege_code\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003euser_1\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e(-1.001, 19.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003euser_10\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003euser_100\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003euser_1000\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e5\u003c/th\u003e\n","      \u003ctd\u003euser_1001\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e(19.0, 22.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4495\u003c/th\u003e\n","      \u003ctd\u003euser_995\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4496\u003c/th\u003e\n","      \u003ctd\u003euser_996\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e(-1.001, 19.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4497\u003c/th\u003e\n","      \u003ctd\u003euser_997\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003efemale\u003c/td\u003e\n","      \u003ctd\u003e(22.0, 61.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4498\u003c/th\u003e\n","      \u003ctd\u003euser_998\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e(-1.001, 19.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4499\u003c/th\u003e\n","      \u003ctd\u003euser_999\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e4499 rows  6 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-f39e92fa-334c-4c71-88b8-c984687cf48e')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-f39e92fa-334c-4c71-88b8-c984687cf48e button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-f39e92fa-334c-4c71-88b8-c984687cf48e');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-26555575-d3bd-4a86-b86f-39c5cb9b135e\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-26555575-d3bd-4a86-b86f-39c5cb9b135e')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-26555575-d3bd-4a86-b86f-39c5cb9b135e button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["      user_code    country city_code           gender             age  \\\n","1        user_1  country_1    city_1             male  (-1.001, 19.0]   \n","2       user_10     Others    Others  skipped_by_user             NaN   \n","3      user_100     Others    Others  skipped_by_user             NaN   \n","4     user_1000  country_1    city_1  skipped_by_user             NaN   \n","5     user_1001  country_1    Others             male    (19.0, 22.0]   \n","...         ...        ...       ...              ...             ...   \n","4495   user_995  country_1    city_1  skipped_by_user             NaN   \n","4496   user_996  country_1    city_1             male  (-1.001, 19.0]   \n","4497   user_997  country_1    Others           female    (22.0, 61.0]   \n","4498   user_998  country_1    city_1             male  (-1.001, 19.0]   \n","4499   user_999  country_1    Others  skipped_by_user             NaN   \n","\n","      college_code  \n","1     code_present  \n","2     code_present  \n","3     code_present  \n","4     code_present  \n","5     code_present  \n","...            ...  \n","4495  code_present  \n","4496  code_present  \n","4497  code_present  \n","4498  code_present  \n","4499  code_present  \n","\n","[4499 rows x 6 columns]"]},"execution_count":52,"metadata":{},"output_type":"execute_result"}],"source":["user_features"]},{"cell_type":"markdown","metadata":{"id":"16xqOSpya-mk"},"source":["#### Poll Features"]},{"cell_type":"code","execution_count":53,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":13,"status":"ok","timestamp":1701123969679,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"zi15YeHwX3r8","outputId":"abfe14b7-f728-4537-9e51-9e1a33d6f30b"},"outputs":[{"data":{"text/plain":["(707, 807)"]},"execution_count":53,"metadata":{},"output_type":"execute_result"}],"source":["poll_features.poll_code.nunique(),poll_features.shape[0]"]},{"cell_type":"code","execution_count":54,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"executionInfo":{"elapsed":12,"status":"ok","timestamp":1701123969679,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"c8HEvIM1YWYm","outputId":"441bc156-6f60-43fd-9bd9-56070801ab3b"},"outputs":[{"name":"stdout","output_type":"stream","text":["count of duplicates -  60 \n","\n","\n"]},{"data":{"text/html":["\n","  \u003cdiv id=\"df-fe5f1313-ca4e-45e1-be74-67e188abff52\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003epoll_code\u003c/th\u003e\n","      \u003cth\u003edisplayType\u003c/th\u003e\n","      \u003cth\u003ecategories\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e9\u003c/th\u003e\n","      \u003ctd\u003epoll_22\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e10\u003c/th\u003e\n","      \u003ctd\u003epoll_22\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eLifestyle\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e16\u003c/th\u003e\n","      \u003ctd\u003epoll_33\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e17\u003c/th\u003e\n","      \u003ctd\u003epoll_33\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e44\u003c/th\u003e\n","      \u003ctd\u003epoll_97\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e45\u003c/th\u003e\n","      \u003ctd\u003epoll_97\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e48\u003c/th\u003e\n","      \u003ctd\u003epoll_101\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e49\u003c/th\u003e\n","      \u003ctd\u003epoll_101\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e52\u003c/th\u003e\n","      \u003ctd\u003epoll_107\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e53\u003c/th\u003e\n","      \u003ctd\u003epoll_107\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eWould You Rather\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e60\u003c/th\u003e\n","      \u003ctd\u003epoll_119\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e61\u003c/th\u003e\n","      \u003ctd\u003epoll_119\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e75\u003c/th\u003e\n","      \u003ctd\u003epoll_140\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e76\u003c/th\u003e\n","      \u003ctd\u003epoll_140\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eTrivia\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e78\u003c/th\u003e\n","      \u003ctd\u003epoll_142\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e79\u003c/th\u003e\n","      \u003ctd\u003epoll_142\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e83\u003c/th\u003e\n","      \u003ctd\u003epoll_149\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e84\u003c/th\u003e\n","      \u003ctd\u003epoll_149\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e90\u003c/th\u003e\n","      \u003ctd\u003epoll_161\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e91\u003c/th\u003e\n","      \u003ctd\u003epoll_161\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e128\u003c/th\u003e\n","      \u003ctd\u003epoll_235\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e129\u003c/th\u003e\n","      \u003ctd\u003epoll_235\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eLifestyle\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e143\u003c/th\u003e\n","      \u003ctd\u003epoll_256\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e144\u003c/th\u003e\n","      \u003ctd\u003epoll_256\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e150\u003c/th\u003e\n","      \u003ctd\u003epoll_269\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e151\u003c/th\u003e\n","      \u003ctd\u003epoll_269\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e173\u003c/th\u003e\n","      \u003ctd\u003epoll_319\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e174\u003c/th\u003e\n","      \u003ctd\u003epoll_319\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e175\u003c/th\u003e\n","      \u003ctd\u003epoll_322\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e176\u003c/th\u003e\n","      \u003ctd\u003epoll_322\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eWould You Rather\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e186\u003c/th\u003e\n","      \u003ctd\u003epoll_339\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e187\u003c/th\u003e\n","      \u003ctd\u003epoll_339\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eHypothetical\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e199\u003c/th\u003e\n","      \u003ctd\u003epoll_371\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e200\u003c/th\u003e\n","      \u003ctd\u003epoll_371\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e204\u003c/th\u003e\n","      \u003ctd\u003epoll_379\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e205\u003c/th\u003e\n","      \u003ctd\u003epoll_379\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e210\u003c/th\u003e\n","      \u003ctd\u003epoll_384\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e211\u003c/th\u003e\n","      \u003ctd\u003epoll_384\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e213\u003c/th\u003e\n","      \u003ctd\u003epoll_389\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e214\u003c/th\u003e\n","      \u003ctd\u003epoll_389\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e218\u003c/th\u003e\n","      \u003ctd\u003epoll_395\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e219\u003c/th\u003e\n","      \u003ctd\u003epoll_395\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e235\u003c/th\u003e\n","      \u003ctd\u003epoll_444\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e236\u003c/th\u003e\n","      \u003ctd\u003epoll_444\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e243\u003c/th\u003e\n","      \u003ctd\u003epoll_458\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e244\u003c/th\u003e\n","      \u003ctd\u003epoll_458\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eWould You Rather\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e252\u003c/th\u003e\n","      \u003ctd\u003epoll_473\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e253\u003c/th\u003e\n","      \u003ctd\u003epoll_473\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003ePhilosophy and Religion\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e259\u003c/th\u003e\n","      \u003ctd\u003epoll_485\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e260\u003c/th\u003e\n","      \u003ctd\u003epoll_485\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003ePhilosophy and Religion\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e261\u003c/th\u003e\n","      \u003ctd\u003epoll_487\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e262\u003c/th\u003e\n","      \u003ctd\u003epoll_487\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e281\u003c/th\u003e\n","      \u003ctd\u003epoll_525\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e282\u003c/th\u003e\n","      \u003ctd\u003epoll_525\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eLifestyle\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e288\u003c/th\u003e\n","      \u003ctd\u003epoll_532\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e289\u003c/th\u003e\n","      \u003ctd\u003epoll_532\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e329\u003c/th\u003e\n","      \u003ctd\u003epoll_604\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e330\u003c/th\u003e\n","      \u003ctd\u003epoll_604\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e334\u003c/th\u003e\n","      \u003ctd\u003epoll_616\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e335\u003c/th\u003e\n","      \u003ctd\u003epoll_616\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e336\u003c/th\u003e\n","      \u003ctd\u003epoll_617\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e337\u003c/th\u003e\n","      \u003ctd\u003epoll_617\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eHypothetical\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e349\u003c/th\u003e\n","      \u003ctd\u003epoll_639\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e350\u003c/th\u003e\n","      \u003ctd\u003epoll_639\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eWould You Rather\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e356\u003c/th\u003e\n","      \u003ctd\u003epoll_650\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e357\u003c/th\u003e\n","      \u003ctd\u003epoll_650\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e370\u003c/th\u003e\n","      \u003ctd\u003epoll_676\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e371\u003c/th\u003e\n","      \u003ctd\u003epoll_676\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e380\u003c/th\u003e\n","      \u003ctd\u003epoll_696\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e381\u003c/th\u003e\n","      \u003ctd\u003epoll_696\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e428\u003c/th\u003e\n","      \u003ctd\u003epoll_72\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e429\u003c/th\u003e\n","      \u003ctd\u003epoll_72\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eInternet\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e459\u003c/th\u003e\n","      \u003ctd\u003epoll_134\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e460\u003c/th\u003e\n","      \u003ctd\u003epoll_134\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eHypothetical\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e463\u003c/th\u003e\n","      \u003ctd\u003epoll_146\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e464\u003c/th\u003e\n","      \u003ctd\u003epoll_146\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eWould You Rather\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e475\u003c/th\u003e\n","      \u003ctd\u003epoll_169\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e476\u003c/th\u003e\n","      \u003ctd\u003epoll_169\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e496\u003c/th\u003e\n","      \u003ctd\u003epoll_192\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e497\u003c/th\u003e\n","      \u003ctd\u003epoll_192\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e507\u003c/th\u003e\n","      \u003ctd\u003epoll_209\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e508\u003c/th\u003e\n","      \u003ctd\u003epoll_209\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eInternet\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e528\u003c/th\u003e\n","      \u003ctd\u003epoll_244\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e529\u003c/th\u003e\n","      \u003ctd\u003epoll_244\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e552\u003c/th\u003e\n","      \u003ctd\u003epoll_285\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e553\u003c/th\u003e\n","      \u003ctd\u003epoll_285\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e562\u003c/th\u003e\n","      \u003ctd\u003epoll_306\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e563\u003c/th\u003e\n","      \u003ctd\u003epoll_306\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e565\u003c/th\u003e\n","      \u003ctd\u003epoll_309\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e566\u003c/th\u003e\n","      \u003ctd\u003epoll_309\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e607\u003c/th\u003e\n","      \u003ctd\u003epoll_377\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e608\u003c/th\u003e\n","      \u003ctd\u003epoll_377\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e610\u003c/th\u003e\n","      \u003ctd\u003epoll_380\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e611\u003c/th\u003e\n","      \u003ctd\u003epoll_380\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e633\u003c/th\u003e\n","      \u003ctd\u003epoll_415\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e634\u003c/th\u003e\n","      \u003ctd\u003epoll_415\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eInternet\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e661\u003c/th\u003e\n","      \u003ctd\u003epoll_453\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e662\u003c/th\u003e\n","      \u003ctd\u003epoll_453\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eHypothetical\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e668\u003c/th\u003e\n","      \u003ctd\u003epoll_469\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e669\u003c/th\u003e\n","      \u003ctd\u003epoll_469\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eLifestyle\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e673\u003c/th\u003e\n","      \u003ctd\u003epoll_475\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e674\u003c/th\u003e\n","      \u003ctd\u003epoll_475\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e676\u003c/th\u003e\n","      \u003ctd\u003epoll_479\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e677\u003c/th\u003e\n","      \u003ctd\u003epoll_479\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e682\u003c/th\u003e\n","      \u003ctd\u003epoll_489\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e683\u003c/th\u003e\n","      \u003ctd\u003epoll_489\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e690\u003c/th\u003e\n","      \u003ctd\u003epoll_498\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e691\u003c/th\u003e\n","      \u003ctd\u003epoll_498\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e705\u003c/th\u003e\n","      \u003ctd\u003epoll_535\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e706\u003c/th\u003e\n","      \u003ctd\u003epoll_535\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e709\u003c/th\u003e\n","      \u003ctd\u003epoll_538\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e710\u003c/th\u003e\n","      \u003ctd\u003epoll_538\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eLifestyle\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e737\u003c/th\u003e\n","      \u003ctd\u003epoll_592\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e738\u003c/th\u003e\n","      \u003ctd\u003epoll_592\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e762\u003c/th\u003e\n","      \u003ctd\u003epoll_631\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e763\u003c/th\u003e\n","      \u003ctd\u003epoll_631\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eHypothetical\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e774\u003c/th\u003e\n","      \u003ctd\u003epoll_652\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e775\u003c/th\u003e\n","      \u003ctd\u003epoll_652\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e803\u003c/th\u003e\n","      \u003ctd\u003epoll_702\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eRandom\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e804\u003c/th\u003e\n","      \u003ctd\u003epoll_702\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-fe5f1313-ca4e-45e1-be74-67e188abff52')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-fe5f1313-ca4e-45e1-be74-67e188abff52 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-fe5f1313-ca4e-45e1-be74-67e188abff52');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-328aff36-9063-4636-a322-212e3578e70a\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-328aff36-9063-4636-a322-212e3578e70a')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-328aff36-9063-4636-a322-212e3578e70a button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["    poll_code displayType               categories\n","9     poll_22        text                   Random\n","10    poll_22        text                Lifestyle\n","16    poll_33        text                   Random\n","17    poll_33        text  Dating and Relationship\n","44    poll_97        text                   Random\n","45    poll_97        text                    Other\n","48   poll_101        text                   Random\n","49   poll_101        text                    Other\n","52   poll_107        text                   Random\n","53   poll_107        text         Would You Rather\n","60   poll_119        text                   Random\n","61   poll_119        text  Dating and Relationship\n","75   poll_140        text                   Random\n","76   poll_140        text                   Trivia\n","78   poll_142        text                   Random\n","79   poll_142        text                    Other\n","83   poll_149        text                   Random\n","84   poll_149        text  Dating and Relationship\n","90   poll_161        text                   Random\n","91   poll_161        text  Dating and Relationship\n","128  poll_235        text                   Random\n","129  poll_235        text                Lifestyle\n","143  poll_256        text                   Random\n","144  poll_256        text                    Other\n","150  poll_269        text                   Random\n","151  poll_269        text                    Other\n","173  poll_319        text                   Random\n","174  poll_319        text  Dating and Relationship\n","175  poll_322        text                   Random\n","176  poll_322        text         Would You Rather\n","186  poll_339        text                   Random\n","187  poll_339        text             Hypothetical\n","199  poll_371        text                   Random\n","200  poll_371        text                    Other\n","204  poll_379        text                   Random\n","205  poll_379        text  Dating and Relationship\n","210  poll_384        text                   Random\n","211  poll_384        text  Dating and Relationship\n","213  poll_389        text                   Random\n","214  poll_389        text  Dating and Relationship\n","218  poll_395        text                   Random\n","219  poll_395        text  Dating and Relationship\n","235  poll_444        text                   Random\n","236  poll_444        text  Dating and Relationship\n","243  poll_458        text                   Random\n","244  poll_458        text         Would You Rather\n","252  poll_473        text                   Random\n","253  poll_473        text  Philosophy and Religion\n","259  poll_485        text                   Random\n","260  poll_485        text  Philosophy and Religion\n","261  poll_487        text                   Random\n","262  poll_487        text                    Other\n","281  poll_525        text                   Random\n","282  poll_525        text                Lifestyle\n","288  poll_532        text                   Random\n","289  poll_532        text                    Other\n","329  poll_604        text                   Random\n","330  poll_604        text                    Other\n","334  poll_616        text                   Random\n","335  poll_616        text                    Other\n","336  poll_617        text                   Random\n","337  poll_617        text             Hypothetical\n","349  poll_639        text                   Random\n","350  poll_639        text         Would You Rather\n","356  poll_650        text                   Random\n","357  poll_650        text  Dating and Relationship\n","370  poll_676        text                   Random\n","371  poll_676        text                    Other\n","380  poll_696        text                   Random\n","381  poll_696        text                    Other\n","428   poll_72        text                   Random\n","429   poll_72        text                 Internet\n","459  poll_134        text                   Random\n","460  poll_134        text             Hypothetical\n","463  poll_146        text                   Random\n","464  poll_146        text         Would You Rather\n","475  poll_169        text                   Random\n","476  poll_169        text                    Other\n","496  poll_192        text                   Random\n","497  poll_192        text  Dating and Relationship\n","507  poll_209        text                   Random\n","508  poll_209        text                 Internet\n","528  poll_244        text                   Random\n","529  poll_244        text                    Other\n","552  poll_285        text                   Random\n","553  poll_285        text  Dating and Relationship\n","562  poll_306        text                   Random\n","563  poll_306        text                    Other\n","565  poll_309        text                   Random\n","566  poll_309        text                    Other\n","607  poll_377        text                   Random\n","608  poll_377        text  Dating and Relationship\n","610  poll_380        text                   Random\n","611  poll_380        text                    Other\n","633  poll_415        text                   Random\n","634  poll_415        text                 Internet\n","661  poll_453        text                   Random\n","662  poll_453        text             Hypothetical\n","668  poll_469        text                   Random\n","669  poll_469        text                Lifestyle\n","673  poll_475        text                   Random\n","674  poll_475        text                    Other\n","676  poll_479        text                   Random\n","677  poll_479        text                    Other\n","682  poll_489        text                   Random\n","683  poll_489        text                    Other\n","690  poll_498        text                   Random\n","691  poll_498        text  Dating and Relationship\n","705  poll_535        text                   Random\n","706  poll_535        text                    Other\n","709  poll_538        text                   Random\n","710  poll_538        text                Lifestyle\n","737  poll_592        text                   Random\n","738  poll_592        text  Dating and Relationship\n","762  poll_631        text                   Random\n","763  poll_631        text             Hypothetical\n","774  poll_652        text                   Random\n","775  poll_652        text                    Other\n","803  poll_702        text                   Random\n","804  poll_702        text                    Other"]},"execution_count":54,"metadata":{},"output_type":"execute_result"}],"source":["temp = pd.DataFrame(poll_features.poll_code.value_counts()).reset_index()\n","\n","list_of_double_cat = temp[temp.poll_code\u003e=2]['index'].values\n","\n","print(\"count of duplicates - \",len(list_of_double_cat),\"\\n\\n\")\n","\n","poll_features[poll_features.poll_code.isin(list_of_double_cat)]"]},{"cell_type":"code","execution_count":55,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":11,"status":"ok","timestamp":1701123969679,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"UZ5pJLGQORmg","outputId":"f87c52c5-9768-4701-d3f0-086314167dcf"},"outputs":[{"data":{"text/plain":["Random                     60\n","Other                      23\n","Dating and Relationship    16\n","Lifestyle                   5\n","Would You Rather            5\n","Hypothetical                5\n","Internet                    3\n","Philosophy and Religion     2\n","Trivia                      1\n","Name: categories, dtype: int64"]},"execution_count":55,"metadata":{},"output_type":"execute_result"}],"source":["poll_features[poll_features.poll_code.isin(list_of_double_cat)].categories.value_counts()"]},{"cell_type":"code","execution_count":56,"metadata":{"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701123969679,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"QwgWxUOqRnxA"},"outputs":[],"source":["# Based on manual investigation - random seems like an erroneous entry for these 60 polls"]},{"cell_type":"code","execution_count":57,"metadata":{"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701123969679,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"b7EoewvrS4uR"},"outputs":[],"source":["poll_features = poll_features[~((poll_features.poll_code.isin(list_of_double_cat)) \u0026 (poll_features.categories=='Random'))]"]},{"cell_type":"code","execution_count":58,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701123969679,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"JsmfC0VmTKVx","outputId":"a3d7ee24-d201-48c4-f195-e906dc458989"},"outputs":[{"data":{"text/plain":["Series([], Name: index, dtype: object)"]},"execution_count":58,"metadata":{},"output_type":"execute_result"}],"source":["# checking for doule entries\n","temp = pd.DataFrame(poll_features.poll_code.value_counts()).reset_index()\n","temp[temp.poll_code\u003e=2]['index']"]},{"cell_type":"code","execution_count":59,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":9,"status":"ok","timestamp":1701123969679,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"yPX2rxOPbSat","outputId":"32f970b1-4f9d-4187-ce7f-7c7cafe5f2cd"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-3647bdb0-0d70-4ef4-9b58-4e7ffd8a9b65\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003epoll_code\u003c/th\u003e\n","      \u003cth\u003edisplayType\u003c/th\u003e\n","      \u003cth\u003ecategories\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003epoll_3\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eMovies and TV\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003epoll_4\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003epoll_7\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eFood and Drinks\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003epoll_11\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003epoll_12\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eWould You Rather\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e801\u003c/th\u003e\n","      \u003ctd\u003epoll_698\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e802\u003c/th\u003e\n","      \u003ctd\u003epoll_701\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e804\u003c/th\u003e\n","      \u003ctd\u003epoll_702\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e805\u003c/th\u003e\n","      \u003ctd\u003epoll_703\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eInternet\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e806\u003c/th\u003e\n","      \u003ctd\u003epoll_705\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e747 rows  3 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3647bdb0-0d70-4ef4-9b58-4e7ffd8a9b65')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-3647bdb0-0d70-4ef4-9b58-4e7ffd8a9b65 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3647bdb0-0d70-4ef4-9b58-4e7ffd8a9b65');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-7836a65e-edc7-4fe1-83d0-a40e1412ff3d\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-7836a65e-edc7-4fe1-83d0-a40e1412ff3d')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-7836a65e-edc7-4fe1-83d0-a40e1412ff3d button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["    poll_code displayType               categories\n","0      poll_3        text            Movies and TV\n","1      poll_4        text                    Other\n","2      poll_7        text          Food and Drinks\n","3     poll_11        text  Dating and Relationship\n","4     poll_12        text         Would You Rather\n","..        ...         ...                      ...\n","801  poll_698        text  Dating and Relationship\n","802  poll_701        text                    Other\n","804  poll_702        text                    Other\n","805  poll_703        text                 Internet\n","806  poll_705        text  Dating and Relationship\n","\n","[747 rows x 3 columns]"]},"execution_count":59,"metadata":{},"output_type":"execute_result"}],"source":["poll_features"]},{"cell_type":"markdown","metadata":{"id":"fFyvFtuQHz-e"},"source":["### Data Preparation"]},{"cell_type":"code","execution_count":60,"metadata":{"executionInfo":{"elapsed":222,"status":"ok","timestamp":1701123969893,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"c6sNWujbZr4n"},"outputs":[],"source":["#remove sessions\n","events_data = events_data[events_data.event!='Session']\n","\n","#remove unknown users\n","events_data = events_data[events_data.user_code!='unknown_user']"]},{"cell_type":"code","execution_count":61,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123969893,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"fGdi4N1BZrwc"},"outputs":[],"source":["#giving a score to each user\n","events_data['event_score'] = events_data.event.map({\n","    'Impression' : 0,\n","    'Expand' : 2,\n","    'Polls Answered'  : 3,\n","    'Shares' : 4\n","})"]},{"cell_type":"code","execution_count":62,"metadata":{"executionInfo":{"elapsed":725,"status":"ok","timestamp":1701123970617,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"i2GYvS0Oh29F"},"outputs":[],"source":["events_data['user_code_new'] = events_data.user_code.apply(lambda x : x.split(\"_\")[-1]).astype(int)\n","events_data['poll_code_new'] = events_data.poll_code.apply(lambda x : x.split(\"_\")[-1]).astype(int)"]},{"cell_type":"code","execution_count":63,"metadata":{"executionInfo":{"elapsed":364,"status":"ok","timestamp":1701123970978,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"7yEjt2FPfGpL"},"outputs":[],"source":["ratings = events_data.groupby(['user_code_new','poll_code_new','event']).event_score.max().reset_index()\n","ratings = ratings.groupby(['user_code_new','poll_code_new']).event_score.sum().reset_index()"]},{"cell_type":"code","execution_count":64,"metadata":{"executionInfo":{"elapsed":9,"status":"ok","timestamp":1701123970979,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"63uizvvjLqS-"},"outputs":[],"source":["# events_data[(events_data.user_code_new==20) \u0026 (events_data.poll_code_new==273)]"]},{"cell_type":"code","execution_count":65,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":9,"status":"ok","timestamp":1701123970979,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"LS4PtnqCLfQs","outputId":"8e2cc8a6-3899-4baf-be3b-cd2baf82d967"},"outputs":[{"data":{"text/plain":["(130384, 3)"]},"execution_count":65,"metadata":{},"output_type":"execute_result"}],"source":["ratings.shape"]},{"cell_type":"code","execution_count":66,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":6,"status":"ok","timestamp":1701123970979,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ILtKpe1eIact","outputId":"4b18439b-3491-488e-a30d-3d601a14ad0c"},"outputs":[{"data":{"text/plain":["3    99713\n","0    25995\n","5     3024\n","2     1338\n","7      128\n","4       99\n","9       51\n","6       36\n","Name: event_score, dtype: int64"]},"execution_count":66,"metadata":{},"output_type":"execute_result"}],"source":["ratings.event_score.value_counts()"]},{"cell_type":"code","execution_count":67,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123970979,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"X3RsYFThKCTn","outputId":"a3065afc-edf1-45a7-980c-52143f288ebb"},"outputs":[{"data":{"text/plain":["(1, 3]     0.775026\n","(-1, 1]    0.199373\n","(3, 9]     0.025601\n","Name: event_score, dtype: float64"]},"execution_count":67,"metadata":{},"output_type":"execute_result"}],"source":["pd.cut(ratings.event_score,bins=[-1,1,3,9]).value_counts(normalize=True)"]},{"cell_type":"code","execution_count":68,"metadata":{"executionInfo":{"elapsed":457,"status":"ok","timestamp":1701123971433,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"CIvuI-h2Qjes"},"outputs":[],"source":["# temp = pd.DataFrame(ratings.user_code_new.value_counts())\n","# users_to_consider = temp[temp.user_code_new \u003e 10].index\n","# print(len(users_to_consider))\n","# ratings = ratings[ratings.user_code_new.isin(users_to_consider)]"]},{"cell_type":"code","execution_count":69,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123971433,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"drBn7VETOKW_","outputId":"23d9fc1b-1efb-4ab6-d257-dad3c77fcbc1"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-ebea566d-f180-4541-bfa4-e00599eabf46\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003euser_code_new\u003c/th\u003e\n","      \u003cth\u003epoll_code_new\u003c/th\u003e\n","      \u003cth\u003eevent_score\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e21\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e41\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e44\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e47\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e49\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130379\u003c/th\u003e\n","      \u003ctd\u003e4831\u003c/td\u003e\n","      \u003ctd\u003e288\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130380\u003c/th\u003e\n","      \u003ctd\u003e4832\u003c/td\u003e\n","      \u003ctd\u003e121\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130381\u003c/th\u003e\n","      \u003ctd\u003e4833\u003c/td\u003e\n","      \u003ctd\u003e288\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130382\u003c/th\u003e\n","      \u003ctd\u003e4834\u003c/td\u003e\n","      \u003ctd\u003e194\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130383\u003c/th\u003e\n","      \u003ctd\u003e4835\u003c/td\u003e\n","      \u003ctd\u003e288\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e130384 rows  3 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ebea566d-f180-4541-bfa4-e00599eabf46')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-ebea566d-f180-4541-bfa4-e00599eabf46 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-ebea566d-f180-4541-bfa4-e00599eabf46');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-913ceff5-1e6a-4034-a604-ba8dfcfd8843\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-913ceff5-1e6a-4034-a604-ba8dfcfd8843')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-913ceff5-1e6a-4034-a604-ba8dfcfd8843 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["        user_code_new  poll_code_new  event_score\n","0                   1             21            3\n","1                   1             41            3\n","2                   1             44            3\n","3                   1             47            3\n","4                   1             49            3\n","...               ...            ...          ...\n","130379           4831            288            3\n","130380           4832            121            3\n","130381           4833            288            3\n","130382           4834            194            3\n","130383           4835            288            3\n","\n","[130384 rows x 3 columns]"]},"execution_count":69,"metadata":{},"output_type":"execute_result"}],"source":["ratings"]},{"cell_type":"code","execution_count":70,"metadata":{"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123971433,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"SQH8prwXIkDk"},"outputs":[],"source":["# stratified to keep the distribution of movie ratings the same in train and test datasets.\n","train, test = train_test_split(\n","    ratings,\n","    test_size=0.1,\n","    stratify=ratings.event_score,\n","    random_state=32\n",")"]},{"cell_type":"code","execution_count":71,"metadata":{"executionInfo":{"elapsed":334,"status":"ok","timestamp":1701123971764,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"TPCkS114QaLM"},"outputs":[],"source":["ratings.to_csv(\"ratings.csv\",index=False)"]},{"cell_type":"markdown","metadata":{"id":"L7EX-h9CbGgv"},"source":["### Recommendation Engine"]},{"cell_type":"markdown","metadata":{"id":"YoYsWN20uT6o"},"source":["#### Content-Based"]},{"cell_type":"code","execution_count":72,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":6,"status":"ok","timestamp":1701123971764,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"mAm7_CMOuldJ","outputId":"6516e3ad-41a1-4ff6-e8aa-abc4a27a59c9"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-aad89d23-c4b1-49f2-bef1-a139cfb6f687\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003euser_code_new\u003c/th\u003e\n","      \u003cth\u003epoll_code_new\u003c/th\u003e\n","      \u003cth\u003eevent_score\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e21\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e41\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e44\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e47\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e49\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130379\u003c/th\u003e\n","      \u003ctd\u003e4831\u003c/td\u003e\n","      \u003ctd\u003e288\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130380\u003c/th\u003e\n","      \u003ctd\u003e4832\u003c/td\u003e\n","      \u003ctd\u003e121\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130381\u003c/th\u003e\n","      \u003ctd\u003e4833\u003c/td\u003e\n","      \u003ctd\u003e288\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130382\u003c/th\u003e\n","      \u003ctd\u003e4834\u003c/td\u003e\n","      \u003ctd\u003e194\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e130383\u003c/th\u003e\n","      \u003ctd\u003e4835\u003c/td\u003e\n","      \u003ctd\u003e288\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e130384 rows  3 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-aad89d23-c4b1-49f2-bef1-a139cfb6f687')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-aad89d23-c4b1-49f2-bef1-a139cfb6f687 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-aad89d23-c4b1-49f2-bef1-a139cfb6f687');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-b44321fc-85c5-4645-a98a-352ebbff7213\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-b44321fc-85c5-4645-a98a-352ebbff7213')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-b44321fc-85c5-4645-a98a-352ebbff7213 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["        user_code_new  poll_code_new  event_score\n","0                   1             21            3\n","1                   1             41            3\n","2                   1             44            3\n","3                   1             47            3\n","4                   1             49            3\n","...               ...            ...          ...\n","130379           4831            288            3\n","130380           4832            121            3\n","130381           4833            288            3\n","130382           4834            194            3\n","130383           4835            288            3\n","\n","[130384 rows x 3 columns]"]},"execution_count":72,"metadata":{},"output_type":"execute_result"}],"source":["ratings"]},{"cell_type":"code","execution_count":73,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123971764,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Oc_EWoW7xxYR","outputId":"4970d8a4-9a4a-479d-975a-671a1054b8b2"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-f1fc6fa8-e248-423d-85b1-d5ff7e180cd2\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003epoll_code\u003c/th\u003e\n","      \u003cth\u003edisplayType\u003c/th\u003e\n","      \u003cth\u003ecategories\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003epoll_3\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eMovies and TV\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003epoll_4\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003epoll_7\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eFood and Drinks\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003epoll_11\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003epoll_12\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eWould You Rather\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e801\u003c/th\u003e\n","      \u003ctd\u003epoll_698\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e802\u003c/th\u003e\n","      \u003ctd\u003epoll_701\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e804\u003c/th\u003e\n","      \u003ctd\u003epoll_702\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e805\u003c/th\u003e\n","      \u003ctd\u003epoll_703\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eInternet\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e806\u003c/th\u003e\n","      \u003ctd\u003epoll_705\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e747 rows  3 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-f1fc6fa8-e248-423d-85b1-d5ff7e180cd2')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-f1fc6fa8-e248-423d-85b1-d5ff7e180cd2 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-f1fc6fa8-e248-423d-85b1-d5ff7e180cd2');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-f5d979cd-670a-4dff-bac8-23d3a317f53f\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-f5d979cd-670a-4dff-bac8-23d3a317f53f')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-f5d979cd-670a-4dff-bac8-23d3a317f53f button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["    poll_code displayType               categories\n","0      poll_3        text            Movies and TV\n","1      poll_4        text                    Other\n","2      poll_7        text          Food and Drinks\n","3     poll_11        text  Dating and Relationship\n","4     poll_12        text         Would You Rather\n","..        ...         ...                      ...\n","801  poll_698        text  Dating and Relationship\n","802  poll_701        text                    Other\n","804  poll_702        text                    Other\n","805  poll_703        text                 Internet\n","806  poll_705        text  Dating and Relationship\n","\n","[747 rows x 3 columns]"]},"execution_count":73,"metadata":{},"output_type":"execute_result"}],"source":["poll_features"]},{"cell_type":"code","execution_count":74,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123971764,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"zdu1v4uhxxiR","outputId":"dba485a6-54d5-469f-d36f-c6f1c81aefc4"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-0d651ed7-3095-46ca-864d-71842115c9a8\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003euser_code\u003c/th\u003e\n","      \u003cth\u003ecountry\u003c/th\u003e\n","      \u003cth\u003ecity_code\u003c/th\u003e\n","      \u003cth\u003egender\u003c/th\u003e\n","      \u003cth\u003eage\u003c/th\u003e\n","      \u003cth\u003ecollege_code\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003euser_1\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e(-1.001, 19.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003euser_10\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003euser_100\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003euser_1000\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e5\u003c/th\u003e\n","      \u003ctd\u003euser_1001\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e(19.0, 22.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4495\u003c/th\u003e\n","      \u003ctd\u003euser_995\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4496\u003c/th\u003e\n","      \u003ctd\u003euser_996\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e(-1.001, 19.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4497\u003c/th\u003e\n","      \u003ctd\u003euser_997\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003efemale\u003c/td\u003e\n","      \u003ctd\u003e(22.0, 61.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4498\u003c/th\u003e\n","      \u003ctd\u003euser_998\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003ecity_1\u003c/td\u003e\n","      \u003ctd\u003emale\u003c/td\u003e\n","      \u003ctd\u003e(-1.001, 19.0]\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4499\u003c/th\u003e\n","      \u003ctd\u003euser_999\u003c/td\u003e\n","      \u003ctd\u003ecountry_1\u003c/td\u003e\n","      \u003ctd\u003eOthers\u003c/td\u003e\n","      \u003ctd\u003eskipped_by_user\u003c/td\u003e\n","      \u003ctd\u003eNaN\u003c/td\u003e\n","      \u003ctd\u003ecode_present\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e4499 rows  6 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-0d651ed7-3095-46ca-864d-71842115c9a8')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-0d651ed7-3095-46ca-864d-71842115c9a8 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-0d651ed7-3095-46ca-864d-71842115c9a8');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-1d3da2c0-82cc-48c3-bfc4-ead40b77641a\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-1d3da2c0-82cc-48c3-bfc4-ead40b77641a')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-1d3da2c0-82cc-48c3-bfc4-ead40b77641a button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["      user_code    country city_code           gender             age  \\\n","1        user_1  country_1    city_1             male  (-1.001, 19.0]   \n","2       user_10     Others    Others  skipped_by_user             NaN   \n","3      user_100     Others    Others  skipped_by_user             NaN   \n","4     user_1000  country_1    city_1  skipped_by_user             NaN   \n","5     user_1001  country_1    Others             male    (19.0, 22.0]   \n","...         ...        ...       ...              ...             ...   \n","4495   user_995  country_1    city_1  skipped_by_user             NaN   \n","4496   user_996  country_1    city_1             male  (-1.001, 19.0]   \n","4497   user_997  country_1    Others           female    (22.0, 61.0]   \n","4498   user_998  country_1    city_1             male  (-1.001, 19.0]   \n","4499   user_999  country_1    Others  skipped_by_user             NaN   \n","\n","      college_code  \n","1     code_present  \n","2     code_present  \n","3     code_present  \n","4     code_present  \n","5     code_present  \n","...            ...  \n","4495  code_present  \n","4496  code_present  \n","4497  code_present  \n","4498  code_present  \n","4499  code_present  \n","\n","[4499 rows x 6 columns]"]},"execution_count":74,"metadata":{},"output_type":"execute_result"}],"source":["user_features"]},{"cell_type":"code","execution_count":75,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":342,"status":"ok","timestamp":1701123972102,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Nfw3nqawNjQl","outputId":"5e8c484e-3bd0-4c89-9deb-761cf871e9b5"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-e41e3ede-4340-4f48-8d55-833aeeba864b\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003epoll_code\u003c/th\u003e\n","      \u003cth\u003edisplayType\u003c/th\u003e\n","      \u003cth\u003ecategories\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003epoll_3\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eMovies and TV\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003epoll_4\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003epoll_7\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eFood and Drinks\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003epoll_11\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003epoll_12\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eWould You Rather\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e801\u003c/th\u003e\n","      \u003ctd\u003epoll_698\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e802\u003c/th\u003e\n","      \u003ctd\u003epoll_701\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e804\u003c/th\u003e\n","      \u003ctd\u003epoll_702\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e805\u003c/th\u003e\n","      \u003ctd\u003epoll_703\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eInternet\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e806\u003c/th\u003e\n","      \u003ctd\u003epoll_705\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eDating and Relationship\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e747 rows  3 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e41e3ede-4340-4f48-8d55-833aeeba864b')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-e41e3ede-4340-4f48-8d55-833aeeba864b button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-e41e3ede-4340-4f48-8d55-833aeeba864b');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-03bee6ee-a842-4990-8f68-8cd4afa47831\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-03bee6ee-a842-4990-8f68-8cd4afa47831')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-03bee6ee-a842-4990-8f68-8cd4afa47831 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["    poll_code displayType               categories\n","0      poll_3        text            Movies and TV\n","1      poll_4        text                    Other\n","2      poll_7        text          Food and Drinks\n","3     poll_11        text  Dating and Relationship\n","4     poll_12        text         Would You Rather\n","..        ...         ...                      ...\n","801  poll_698        text  Dating and Relationship\n","802  poll_701        text                    Other\n","804  poll_702        text                    Other\n","805  poll_703        text                 Internet\n","806  poll_705        text  Dating and Relationship\n","\n","[747 rows x 3 columns]"]},"execution_count":75,"metadata":{},"output_type":"execute_result"}],"source":["poll_features"]},{"cell_type":"code","execution_count":76,"metadata":{"executionInfo":{"elapsed":7,"status":"ok","timestamp":1701123972102,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ELDIPvJNNcuW"},"outputs":[],"source":["if checkpoint_flag==0 :\n","  save2 = poll_features.copy()"]},{"cell_type":"code","execution_count":77,"metadata":{"executionInfo":{"elapsed":7,"status":"ok","timestamp":1701123972102,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"dXWpKQEyPF1T"},"outputs":[],"source":["poll_features = save2.copy()"]},{"cell_type":"code","execution_count":78,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":112},"executionInfo":{"elapsed":6,"status":"ok","timestamp":1701123972102,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"pKsTNvAAGcjI","outputId":"6fae8bae-180c-4a00-cabf-a55dd7d44d54"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-273741ea-2b4c-425d-9077-569eb7448880\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003epoll_code\u003c/th\u003e\n","      \u003cth\u003edisplayType\u003c/th\u003e\n","      \u003cth\u003ecategories\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003epoll_3\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eMovies and TV\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003epoll_4\u003c/td\u003e\n","      \u003ctd\u003etext\u003c/td\u003e\n","      \u003ctd\u003eOther\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-273741ea-2b4c-425d-9077-569eb7448880')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-273741ea-2b4c-425d-9077-569eb7448880 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-273741ea-2b4c-425d-9077-569eb7448880');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-92e04d5e-18fc-4385-babf-38b2e923a6dc\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-92e04d5e-18fc-4385-babf-38b2e923a6dc')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-92e04d5e-18fc-4385-babf-38b2e923a6dc button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["  poll_code displayType     categories\n","0    poll_3        text  Movies and TV\n","1    poll_4        text          Other"]},"execution_count":78,"metadata":{},"output_type":"execute_result"}],"source":["poll_features.head(2)"]},{"cell_type":"code","execution_count":79,"metadata":{"executionInfo":{"elapsed":7,"status":"ok","timestamp":1701123972103,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"SLDaB7rAxxlY"},"outputs":[],"source":["checkpoint_flag = 1\n","poll_features['poll_code_new'] = poll_features.poll_code.apply(lambda x : str(x).split(\"_\")[-1])"]},{"cell_type":"code","execution_count":80,"metadata":{"executionInfo":{"elapsed":7,"status":"ok","timestamp":1701123972103,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"AKh7PsN1OsPG"},"outputs":[],"source":["poll_features = poll_features[poll_features['poll_code_new'].str.isnumeric()]"]},{"cell_type":"code","execution_count":81,"metadata":{"executionInfo":{"elapsed":7,"status":"ok","timestamp":1701123972103,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"GLgSMZcNPCwz"},"outputs":[],"source":["poll_features['poll_code_new'] = poll_features['poll_code_new'].astype(int)"]},{"cell_type":"code","execution_count":82,"metadata":{"executionInfo":{"elapsed":6,"status":"ok","timestamp":1701123972103,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"QNsK8_x0zB97"},"outputs":[],"source":["poll_features = pd.concat([poll_features[['poll_code_new']],pd.get_dummies(poll_features[['displayType','categories']])],axis=1)"]},{"cell_type":"code","execution_count":83,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":461},"executionInfo":{"elapsed":371,"status":"ok","timestamp":1701123972468,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"C9QoY34mI2qN","outputId":"36f64638-f51c-45b2-dabc-2b4bade1f6de"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-30c9050b-3c18-42e4-877c-386c65fed3ee\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003epoll_code_new\u003c/th\u003e\n","      \u003cth\u003edisplayType_text\u003c/th\u003e\n","      \u003cth\u003ecategories_Anime\u003c/th\u003e\n","      \u003cth\u003ecategories_Bollywood\u003c/th\u003e\n","      \u003cth\u003ecategories_Books And Comics\u003c/th\u003e\n","      \u003cth\u003ecategories_Campus Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_Celebrities\u003c/th\u003e\n","      \u003cth\u003ecategories_City Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_College Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_Current Events\u003c/th\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003cth\u003ecategories_Other\u003c/th\u003e\n","      \u003cth\u003ecategories_Philosophy and Religion\u003c/th\u003e\n","      \u003cth\u003ecategories_Shopping and Finance\u003c/th\u003e\n","      \u003cth\u003ecategories_Sneakers\u003c/th\u003e\n","      \u003cth\u003ecategories_Sports\u003c/th\u003e\n","      \u003cth\u003ecategories_Tech\u003c/th\u003e\n","      \u003cth\u003ecategories_Technology\u003c/th\u003e\n","      \u003cth\u003ecategories_Travel and Geography\u003c/th\u003e\n","      \u003cth\u003ecategories_Trivia\u003c/th\u003e\n","      \u003cth\u003ecategories_Would You Rather\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e4\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e7\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003e11\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e12\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e801\u003c/th\u003e\n","      \u003ctd\u003e698\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e802\u003c/th\u003e\n","      \u003ctd\u003e701\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e804\u003c/th\u003e\n","      \u003ctd\u003e702\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e805\u003c/th\u003e\n","      \u003ctd\u003e703\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e806\u003c/th\u003e\n","      \u003ctd\u003e705\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e707 rows  30 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-30c9050b-3c18-42e4-877c-386c65fed3ee')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-30c9050b-3c18-42e4-877c-386c65fed3ee button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-30c9050b-3c18-42e4-877c-386c65fed3ee');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-cfc976c0-0dc6-45bc-b114-2a1dc084c517\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-cfc976c0-0dc6-45bc-b114-2a1dc084c517')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-cfc976c0-0dc6-45bc-b114-2a1dc084c517 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["     poll_code_new  displayType_text  categories_Anime  categories_Bollywood  \\\n","0                3                 1                 0                     0   \n","1                4                 1                 0                     0   \n","2                7                 1                 0                     0   \n","3               11                 1                 0                     0   \n","4               12                 1                 0                     0   \n","..             ...               ...               ...                   ...   \n","801            698                 1                 0                     0   \n","802            701                 1                 0                     0   \n","804            702                 1                 0                     0   \n","805            703                 1                 0                     0   \n","806            705                 1                 0                     0   \n","\n","     categories_Books And Comics  categories_Campus Musings  \\\n","0                              0                          0   \n","1                              0                          0   \n","2                              0                          0   \n","3                              0                          0   \n","4                              0                          0   \n","..                           ...                        ...   \n","801                            0                          0   \n","802                            0                          0   \n","804                            0                          0   \n","805                            0                          0   \n","806                            0                          0   \n","\n","     categories_Celebrities  categories_City Musings  \\\n","0                         0                        0   \n","1                         0                        0   \n","2                         0                        0   \n","3                         0                        0   \n","4                         0                        0   \n","..                      ...                      ...   \n","801                       0                        0   \n","802                       0                        0   \n","804                       0                        0   \n","805                       0                        0   \n","806                       0                        0   \n","\n","     categories_College Musings  categories_Current Events  ...  \\\n","0                             0                          0  ...   \n","1                             0                          0  ...   \n","2                             0                          0  ...   \n","3                             0                          0  ...   \n","4                             0                          0  ...   \n","..                          ...                        ...  ...   \n","801                           0                          0  ...   \n","802                           0                          0  ...   \n","804                           0                          0  ...   \n","805                           0                          0  ...   \n","806                           0                          0  ...   \n","\n","     categories_Other  categories_Philosophy and Religion  \\\n","0                   0                                   0   \n","1                   1                                   0   \n","2                   0                                   0   \n","3                   0                                   0   \n","4                   0                                   0   \n","..                ...                                 ...   \n","801                 0                                   0   \n","802                 1                                   0   \n","804                 1                                   0   \n","805                 0                                   0   \n","806                 0                                   0   \n","\n","     categories_Shopping and Finance  categories_Sneakers  categories_Sports  \\\n","0                                  0                    0                  0   \n","1                                  0                    0                  0   \n","2                                  0                    0                  0   \n","3                                  0                    0                  0   \n","4                                  0                    0                  0   \n","..                               ...                  ...                ...   \n","801                                0                    0                  0   \n","802                                0                    0                  0   \n","804                                0                    0                  0   \n","805                                0                    0                  0   \n","806                                0                    0                  0   \n","\n","     categories_Tech  categories_Technology  categories_Travel and Geography  \\\n","0                  0                      0                                0   \n","1                  0                      0                                0   \n","2                  0                      0                                0   \n","3                  0                      0                                0   \n","4                  0                      0                                0   \n","..               ...                    ...                              ...   \n","801                0                      0                                0   \n","802                0                      0                                0   \n","804                0                      0                                0   \n","805                0                      0                                0   \n","806                0                      0                                0   \n","\n","     categories_Trivia  categories_Would You Rather  \n","0                    0                            0  \n","1                    0                            0  \n","2                    0                            0  \n","3                    0                            0  \n","4                    0                            1  \n","..                 ...                          ...  \n","801                  0                            0  \n","802                  0                            0  \n","804                  0                            0  \n","805                  0                            0  \n","806                  0                            0  \n","\n","[707 rows x 30 columns]"]},"execution_count":83,"metadata":{},"output_type":"execute_result"}],"source":["poll_features"]},{"cell_type":"code","execution_count":84,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":11,"status":"ok","timestamp":1701123972468,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"wzVtMuqaOEBq","outputId":"fbbda13d-5527-4e0d-b784-0e7e7c91ffff"},"outputs":[{"data":{"text/plain":["890"]},"execution_count":84,"metadata":{},"output_type":"execute_result"}],"source":["ratings.poll_code_new.nunique()"]},{"cell_type":"code","execution_count":85,"metadata":{"executionInfo":{"elapsed":9,"status":"ok","timestamp":1701123972468,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"RNLGhoBqNsTI"},"outputs":[],"source":["# find the missing poll_code for polls that dont have features\n","missing_poll_code = ratings[~ratings.poll_code_new.astype(int).isin(poll_features.poll_code_new.astype(int))].poll_code_new.unique()"]},{"cell_type":"code","execution_count":86,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":9,"status":"ok","timestamp":1701123972468,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"V8PMJuCeNvkp","outputId":"94630a88-0696-4f8d-b8d8-cf8ab0d60217"},"outputs":[{"data":{"text/plain":["183"]},"execution_count":86,"metadata":{},"output_type":"execute_result"}],"source":["len(missing_poll_code)"]},{"cell_type":"code","execution_count":87,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":461},"executionInfo":{"elapsed":8,"status":"ok","timestamp":1701123972468,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Ke74Ec5ZP_vB","outputId":"02384b89-26e6-46bc-ec27-6a757852c844"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-35557bf9-c37d-4d32-9e1c-fb1d6b82542d\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003epoll_code_new\u003c/th\u003e\n","      \u003cth\u003edisplayType_text\u003c/th\u003e\n","      \u003cth\u003ecategories_Anime\u003c/th\u003e\n","      \u003cth\u003ecategories_Bollywood\u003c/th\u003e\n","      \u003cth\u003ecategories_Books And Comics\u003c/th\u003e\n","      \u003cth\u003ecategories_Campus Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_Celebrities\u003c/th\u003e\n","      \u003cth\u003ecategories_City Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_College Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_Current Events\u003c/th\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003cth\u003ecategories_Other\u003c/th\u003e\n","      \u003cth\u003ecategories_Philosophy and Religion\u003c/th\u003e\n","      \u003cth\u003ecategories_Shopping and Finance\u003c/th\u003e\n","      \u003cth\u003ecategories_Sneakers\u003c/th\u003e\n","      \u003cth\u003ecategories_Sports\u003c/th\u003e\n","      \u003cth\u003ecategories_Tech\u003c/th\u003e\n","      \u003cth\u003ecategories_Technology\u003c/th\u003e\n","      \u003cth\u003ecategories_Travel and Geography\u003c/th\u003e\n","      \u003cth\u003ecategories_Trivia\u003c/th\u003e\n","      \u003cth\u003ecategories_Would You Rather\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e4\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e7\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003e11\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e12\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e801\u003c/th\u003e\n","      \u003ctd\u003e698\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e802\u003c/th\u003e\n","      \u003ctd\u003e701\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e804\u003c/th\u003e\n","      \u003ctd\u003e702\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e805\u003c/th\u003e\n","      \u003ctd\u003e703\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e806\u003c/th\u003e\n","      \u003ctd\u003e705\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e707 rows  30 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-35557bf9-c37d-4d32-9e1c-fb1d6b82542d')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-35557bf9-c37d-4d32-9e1c-fb1d6b82542d button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-35557bf9-c37d-4d32-9e1c-fb1d6b82542d');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-6cf01125-422e-43e0-83f1-823212bbf448\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-6cf01125-422e-43e0-83f1-823212bbf448')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-6cf01125-422e-43e0-83f1-823212bbf448 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["     poll_code_new  displayType_text  categories_Anime  categories_Bollywood  \\\n","0                3                 1                 0                     0   \n","1                4                 1                 0                     0   \n","2                7                 1                 0                     0   \n","3               11                 1                 0                     0   \n","4               12                 1                 0                     0   \n","..             ...               ...               ...                   ...   \n","801            698                 1                 0                     0   \n","802            701                 1                 0                     0   \n","804            702                 1                 0                     0   \n","805            703                 1                 0                     0   \n","806            705                 1                 0                     0   \n","\n","     categories_Books And Comics  categories_Campus Musings  \\\n","0                              0                          0   \n","1                              0                          0   \n","2                              0                          0   \n","3                              0                          0   \n","4                              0                          0   \n","..                           ...                        ...   \n","801                            0                          0   \n","802                            0                          0   \n","804                            0                          0   \n","805                            0                          0   \n","806                            0                          0   \n","\n","     categories_Celebrities  categories_City Musings  \\\n","0                         0                        0   \n","1                         0                        0   \n","2                         0                        0   \n","3                         0                        0   \n","4                         0                        0   \n","..                      ...                      ...   \n","801                       0                        0   \n","802                       0                        0   \n","804                       0                        0   \n","805                       0                        0   \n","806                       0                        0   \n","\n","     categories_College Musings  categories_Current Events  ...  \\\n","0                             0                          0  ...   \n","1                             0                          0  ...   \n","2                             0                          0  ...   \n","3                             0                          0  ...   \n","4                             0                          0  ...   \n","..                          ...                        ...  ...   \n","801                           0                          0  ...   \n","802                           0                          0  ...   \n","804                           0                          0  ...   \n","805                           0                          0  ...   \n","806                           0                          0  ...   \n","\n","     categories_Other  categories_Philosophy and Religion  \\\n","0                   0                                   0   \n","1                   1                                   0   \n","2                   0                                   0   \n","3                   0                                   0   \n","4                   0                                   0   \n","..                ...                                 ...   \n","801                 0                                   0   \n","802                 1                                   0   \n","804                 1                                   0   \n","805                 0                                   0   \n","806                 0                                   0   \n","\n","     categories_Shopping and Finance  categories_Sneakers  categories_Sports  \\\n","0                                  0                    0                  0   \n","1                                  0                    0                  0   \n","2                                  0                    0                  0   \n","3                                  0                    0                  0   \n","4                                  0                    0                  0   \n","..                               ...                  ...                ...   \n","801                                0                    0                  0   \n","802                                0                    0                  0   \n","804                                0                    0                  0   \n","805                                0                    0                  0   \n","806                                0                    0                  0   \n","\n","     categories_Tech  categories_Technology  categories_Travel and Geography  \\\n","0                  0                      0                                0   \n","1                  0                      0                                0   \n","2                  0                      0                                0   \n","3                  0                      0                                0   \n","4                  0                      0                                0   \n","..               ...                    ...                              ...   \n","801                0                      0                                0   \n","802                0                      0                                0   \n","804                0                      0                                0   \n","805                0                      0                                0   \n","806                0                      0                                0   \n","\n","     categories_Trivia  categories_Would You Rather  \n","0                    0                            0  \n","1                    0                            0  \n","2                    0                            0  \n","3                    0                            0  \n","4                    0                            1  \n","..                 ...                          ...  \n","801                  0                            0  \n","802                  0                            0  \n","804                  0                            0  \n","805                  0                            0  \n","806                  0                            0  \n","\n","[707 rows x 30 columns]"]},"execution_count":87,"metadata":{},"output_type":"execute_result"}],"source":["poll_features"]},{"cell_type":"code","execution_count":88,"metadata":{"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123972468,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"9__PJi2xQSfz"},"outputs":[],"source":["characteristics = list(set(poll_features.columns) - {'poll_code_new'})"]},{"cell_type":"code","execution_count":89,"metadata":{"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123972468,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"uE2llEQaOCXh"},"outputs":[],"source":["user_mapping = ratings.merge(poll_features, on='poll_code_new',how='inner')"]},{"cell_type":"code","execution_count":90,"metadata":{"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123972468,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"02vpcDR2Qr1r"},"outputs":[],"source":["for i in characteristics:\n","\n","  user_mapping[i] = user_mapping[i]*user_mapping['event_score']"]},{"cell_type":"code","execution_count":91,"metadata":{"executionInfo":{"elapsed":319,"status":"ok","timestamp":1701123972782,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"_iOLFGq1P4c6"},"outputs":[],"source":["user_mapping = user_mapping.groupby('user_code_new')[characteristics].sum()"]},{"cell_type":"code","execution_count":92,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":492},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123972783,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"wAiPltBBmMhN","outputId":"ddc5130d-3110-44f0-f5b6-cfcc2ff89f36"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-e01bef4d-0d5c-4928-881f-6968f7f17585\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003ecategories_Hobbies\u003c/th\u003e\n","      \u003cth\u003ecategories_Music\u003c/th\u003e\n","      \u003cth\u003edisplayType_text\u003c/th\u003e\n","      \u003cth\u003ecategories_Food and Drinks\u003c/th\u003e\n","      \u003cth\u003ecategories_Internet\u003c/th\u003e\n","      \u003cth\u003ecategories_Hypothetical\u003c/th\u003e\n","      \u003cth\u003ecategories_Philosophy and Religion\u003c/th\u003e\n","      \u003cth\u003ecategories_Sports\u003c/th\u003e\n","      \u003cth\u003ecategories_Lifestyle\u003c/th\u003e\n","      \u003cth\u003ecategories_Celebrities\u003c/th\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003cth\u003ecategories_Would You Rather\u003c/th\u003e\n","      \u003cth\u003ecategories_Travel and Geography\u003c/th\u003e\n","      \u003cth\u003ecategories_Sneakers\u003c/th\u003e\n","      \u003cth\u003ecategories_Current Events\u003c/th\u003e\n","      \u003cth\u003ecategories_Dating and Relationship\u003c/th\u003e\n","      \u003cth\u003ecategories_Shopping and Finance\u003c/th\u003e\n","      \u003cth\u003ecategories_Books And Comics\u003c/th\u003e\n","      \u003cth\u003ecategories_Movies and TV\u003c/th\u003e\n","      \u003cth\u003ecategories_Anime\u003c/th\u003e\n","      \u003cth\u003ecategories_Language and Names\u003c/th\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003euser_code_new\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e108\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e18\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e21\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e108\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e18\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e21\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e9\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e390\u003c/td\u003e\n","      \u003ctd\u003e9\u003c/td\u003e\n","      \u003ctd\u003e9\u003c/td\u003e\n","      \u003ctd\u003e30\u003c/td\u003e\n","      \u003ctd\u003e15\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e36\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e21\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e69\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e9\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e5\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e312\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e36\u003c/td\u003e\n","      \u003ctd\u003e15\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e12\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e21\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e66\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e6\u003c/th\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e366\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e21\u003c/td\u003e\n","      \u003ctd\u003e30\u003c/td\u003e\n","      \u003ctd\u003e15\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e36\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e24\u003c/td\u003e\n","      \u003ctd\u003e9\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e6\u003c/td\u003e\n","      \u003ctd\u003e63\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e9\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4831\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4832\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4833\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4834\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4835\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e4200 rows  29 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e01bef4d-0d5c-4928-881f-6968f7f17585')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-e01bef4d-0d5c-4928-881f-6968f7f17585 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-e01bef4d-0d5c-4928-881f-6968f7f17585');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-4bb5be98-8878-4cd5-9064-1b6351fa1e5b\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-4bb5be98-8878-4cd5-9064-1b6351fa1e5b')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-4bb5be98-8878-4cd5-9064-1b6351fa1e5b button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["               categories_Hobbies  categories_Music  displayType_text  \\\n","user_code_new                                                           \n","1                               0                 3               108   \n","2                               0                 3               108   \n","4                               9                 0               390   \n","5                               0                 0               312   \n","6                               3                 3               366   \n","...                           ...               ...               ...   \n","4831                            0                 0                 3   \n","4832                            0                 0                 3   \n","4833                            0                 0                 3   \n","4834                            0                 0                 3   \n","4835                            0                 0                 3   \n","\n","               categories_Food and Drinks  categories_Internet  \\\n","user_code_new                                                    \n","1                                       0                    0   \n","2                                       0                    0   \n","4                                       9                    9   \n","5                                       3                    0   \n","6                                       0                   21   \n","...                                   ...                  ...   \n","4831                                    0                    0   \n","4832                                    0                    0   \n","4833                                    0                    0   \n","4834                                    0                    0   \n","4835                                    0                    0   \n","\n","               categories_Hypothetical  categories_Philosophy and Religion  \\\n","user_code_new                                                                \n","1                                   18                                   0   \n","2                                   18                                   0   \n","4                                   30                                  15   \n","5                                   36                                  15   \n","6                                   30                                  15   \n","...                                ...                                 ...   \n","4831                                 0                                   0   \n","4832                                 0                                   0   \n","4833                                 0                                   0   \n","4834                                 0                                   0   \n","4835                                 0                                   0   \n","\n","               categories_Sports  categories_Lifestyle  \\\n","user_code_new                                            \n","1                              3                     0   \n","2                              3                     0   \n","4                              0                    36   \n","5                              6                    12   \n","6                              3                    36   \n","...                          ...                   ...   \n","4831                           0                     0   \n","4832                           0                     3   \n","4833                           0                     0   \n","4834                           0                     0   \n","4835                           0                     0   \n","\n","               categories_Celebrities  ...  categories_Would You Rather  \\\n","user_code_new                          ...                                \n","1                                   6  ...                            0   \n","2                                   6  ...                            0   \n","4                                   3  ...                           21   \n","5                                   6  ...                           21   \n","6                                   6  ...                           24   \n","...                               ...  ...                          ...   \n","4831                                0  ...                            0   \n","4832                                0  ...                            0   \n","4833                                0  ...                            0   \n","4834                                0  ...                            3   \n","4835                                0  ...                            0   \n","\n","               categories_Travel and Geography  categories_Sneakers  \\\n","user_code_new                                                         \n","1                                            0                    0   \n","2                                            0                    0   \n","4                                            6                    6   \n","5                                            6                    3   \n","6                                            9                    0   \n","...                                        ...                  ...   \n","4831                                         0                    0   \n","4832                                         0                    0   \n","4833                                         0                    0   \n","4834                                         0                    0   \n","4835                                         0                    0   \n","\n","               categories_Current Events  categories_Dating and Relationship  \\\n","user_code_new                                                                  \n","1                                      6                                  21   \n","2                                      6                                  21   \n","4                                      3                                  69   \n","5                                      6                                  66   \n","6                                      6                                  63   \n","...                                  ...                                 ...   \n","4831                                   0                                   0   \n","4832                                   0                                   0   \n","4833                                   0                                   0   \n","4834                                   0                                   0   \n","4835                                   0                                   0   \n","\n","               categories_Shopping and Finance  categories_Books And Comics  \\\n","user_code_new                                                                 \n","1                                            0                            3   \n","2                                            0                            3   \n","4                                            3                            0   \n","5                                            6                            3   \n","6                                            3                            0   \n","...                                        ...                          ...   \n","4831                                         0                            0   \n","4832                                         0                            0   \n","4833                                         0                            0   \n","4834                                         0                            0   \n","4835                                         0                            0   \n","\n","               categories_Movies and TV  categories_Anime  \\\n","user_code_new                                               \n","1                                     3                 3   \n","2                                     3                 3   \n","4                                     3                 0   \n","5                                     3                 0   \n","6                                     9                 0   \n","...                                 ...               ...   \n","4831                                  0                 0   \n","4832                                  0                 0   \n","4833                                  0                 0   \n","4834                                  0                 0   \n","4835                                  0                 0   \n","\n","               categories_Language and Names  \n","user_code_new                                 \n","1                                          0  \n","2                                          0  \n","4                                          9  \n","5                                          3  \n","6                                          3  \n","...                                      ...  \n","4831                                       0  \n","4832                                       0  \n","4833                                       0  \n","4834                                       0  \n","4835                                       0  \n","\n","[4200 rows x 29 columns]"]},"execution_count":92,"metadata":{},"output_type":"execute_result"}],"source":["user_mapping"]},{"cell_type":"code","execution_count":93,"metadata":{"executionInfo":{"elapsed":229,"status":"ok","timestamp":1701123973009,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"1glTqG9rRUZg"},"outputs":[],"source":["for i in characteristics:\n","\n","  user_mapping[i] = user_mapping[i]/user_mapping.sum(axis=1).replace(0, 1)"]},{"cell_type":"code","execution_count":94,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":321},"executionInfo":{"elapsed":276,"status":"ok","timestamp":1701123973283,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"et-kH4HKQfGU","outputId":"d4cfe70f-4671-4c53-db26-0a2d715bbdce"},"outputs":[{"name":"stdout","output_type":"stream","text":["(4200, 29)\n"]},{"data":{"text/html":["\n","  \u003cdiv id=\"df-25c1a24f-ebd9-456d-b134-e80f2cafd57d\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003ecategories_Hobbies\u003c/th\u003e\n","      \u003cth\u003ecategories_Music\u003c/th\u003e\n","      \u003cth\u003edisplayType_text\u003c/th\u003e\n","      \u003cth\u003ecategories_Food and Drinks\u003c/th\u003e\n","      \u003cth\u003ecategories_Internet\u003c/th\u003e\n","      \u003cth\u003ecategories_Hypothetical\u003c/th\u003e\n","      \u003cth\u003ecategories_Philosophy and Religion\u003c/th\u003e\n","      \u003cth\u003ecategories_Sports\u003c/th\u003e\n","      \u003cth\u003ecategories_Lifestyle\u003c/th\u003e\n","      \u003cth\u003ecategories_Celebrities\u003c/th\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003cth\u003ecategories_Would You Rather\u003c/th\u003e\n","      \u003cth\u003ecategories_Travel and Geography\u003c/th\u003e\n","      \u003cth\u003ecategories_Sneakers\u003c/th\u003e\n","      \u003cth\u003ecategories_Current Events\u003c/th\u003e\n","      \u003cth\u003ecategories_Dating and Relationship\u003c/th\u003e\n","      \u003cth\u003ecategories_Shopping and Finance\u003c/th\u003e\n","      \u003cth\u003ecategories_Books And Comics\u003c/th\u003e\n","      \u003cth\u003ecategories_Movies and TV\u003c/th\u003e\n","      \u003cth\u003ecategories_Anime\u003c/th\u003e\n","      \u003cth\u003ecategories_Language and Names\u003c/th\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003euser_code_new\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.013889\u003c/td\u003e\n","      \u003ctd\u003e0.507009\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.170582\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.034211\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.070817\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.160119\u003c/td\u003e\n","      \u003ctd\u003e0.663879\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.265577\u003c/td\u003e\n","      \u003ctd\u003e0.350396\u003c/td\u003e\n","      \u003ctd\u003e0.50743\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.013889\u003c/td\u003e\n","      \u003ctd\u003e0.507009\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.170582\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.034211\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.070817\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.160119\u003c/td\u003e\n","      \u003ctd\u003e0.663879\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.265577\u003c/td\u003e\n","      \u003ctd\u003e0.350396\u003c/td\u003e\n","      \u003ctd\u003e0.50743\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e0.011538\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.505829\u003c/td\u003e\n","      \u003ctd\u003e0.02359\u003c/td\u003e\n","      \u003ctd\u003e0.024158\u003c/td\u003e\n","      \u003ctd\u003e0.082516\u003c/td\u003e\n","      \u003ctd\u003e0.044958\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.112962\u003c/td\u003e\n","      \u003ctd\u003e0.010608\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.172879\u003c/td\u003e\n","      \u003ctd\u003e0.059615\u003c/td\u003e\n","      \u003ctd\u003e0.063355\u003c/td\u003e\n","      \u003ctd\u003e0.033796\u003c/td\u003e\n","      \u003ctd\u003e0.804179\u003c/td\u003e\n","      \u003ctd\u003e0.170397\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.203027\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.751290\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e5\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.500000\u003c/td\u003e\n","      \u003ctd\u003e0.00960\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.116313\u003c/td\u003e\n","      \u003ctd\u003e0.054819\u003c/td\u003e\n","      \u003ctd\u003e0.023195\u003c/td\u003e\n","      \u003ctd\u003e0.047486\u003c/td\u003e\n","      \u003ctd\u003e0.024922\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.177457\u003c/td\u003e\n","      \u003ctd\u003e0.061529\u003c/td\u003e\n","      \u003ctd\u003e0.032759\u003c/td\u003e\n","      \u003ctd\u003e0.067712\u003c/td\u003e\n","      \u003ctd\u003e0.798281\u003c/td\u003e\n","      \u003ctd\u003e0.343329\u003c/td\u003e\n","      \u003ctd\u003e0.253823\u003c/td\u003e\n","      \u003ctd\u003e0.330648\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.468476\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e6\u003c/th\u003e\n","      \u003ctd\u003e0.004098\u003c/td\u003e\n","      \u003ctd\u003e0.004115\u003c/td\u003e\n","      \u003ctd\u003e0.504127\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.058250\u003c/td\u003e\n","      \u003ctd\u003e0.088347\u003c/td\u003e\n","      \u003ctd\u003e0.048440\u003c/td\u003e\n","      \u003ctd\u003e0.010180\u003c/td\u003e\n","      \u003ctd\u003e0.123407\u003c/td\u003e\n","      \u003ctd\u003e0.023452\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.202575\u003c/td\u003e\n","      \u003ctd\u003e0.095060\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.069953\u003c/td\u003e\n","      \u003ctd\u003e0.789055\u003c/td\u003e\n","      \u003ctd\u003e0.170151\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.608044\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.468047\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e5 rows  29 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-25c1a24f-ebd9-456d-b134-e80f2cafd57d')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-25c1a24f-ebd9-456d-b134-e80f2cafd57d button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-25c1a24f-ebd9-456d-b134-e80f2cafd57d');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-55e71e0a-f7bf-4b47-806b-1631a7e48ff7\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-55e71e0a-f7bf-4b47-806b-1631a7e48ff7')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-55e71e0a-f7bf-4b47-806b-1631a7e48ff7 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["               categories_Hobbies  categories_Music  displayType_text  \\\n","user_code_new                                                           \n","1                        0.000000          0.013889          0.507009   \n","2                        0.000000          0.013889          0.507009   \n","4                        0.011538          0.000000          0.505829   \n","5                        0.000000          0.000000          0.500000   \n","6                        0.004098          0.004115          0.504127   \n","\n","               categories_Food and Drinks  categories_Internet  \\\n","user_code_new                                                    \n","1                                 0.00000             0.000000   \n","2                                 0.00000             0.000000   \n","4                                 0.02359             0.024158   \n","5                                 0.00960             0.000000   \n","6                                 0.00000             0.058250   \n","\n","               categories_Hypothetical  categories_Philosophy and Religion  \\\n","user_code_new                                                                \n","1                             0.170582                            0.000000   \n","2                             0.170582                            0.000000   \n","4                             0.082516                            0.044958   \n","5                             0.116313                            0.054819   \n","6                             0.088347                            0.048440   \n","\n","               categories_Sports  categories_Lifestyle  \\\n","user_code_new                                            \n","1                       0.034211              0.000000   \n","2                       0.034211              0.000000   \n","4                       0.000000              0.112962   \n","5                       0.023195              0.047486   \n","6                       0.010180              0.123407   \n","\n","               categories_Celebrities  ...  categories_Would You Rather  \\\n","user_code_new                          ...                                \n","1                            0.070817  ...                     0.000000   \n","2                            0.070817  ...                     0.000000   \n","4                            0.010608  ...                     0.172879   \n","5                            0.024922  ...                     0.177457   \n","6                            0.023452  ...                     0.202575   \n","\n","               categories_Travel and Geography  categories_Sneakers  \\\n","user_code_new                                                         \n","1                                     0.000000             0.000000   \n","2                                     0.000000             0.000000   \n","4                                     0.059615             0.063355   \n","5                                     0.061529             0.032759   \n","6                                     0.095060             0.000000   \n","\n","               categories_Current Events  categories_Dating and Relationship  \\\n","user_code_new                                                                  \n","1                               0.160119                            0.663879   \n","2                               0.160119                            0.663879   \n","4                               0.033796                            0.804179   \n","5                               0.067712                            0.798281   \n","6                               0.069953                            0.789055   \n","\n","               categories_Shopping and Finance  categories_Books And Comics  \\\n","user_code_new                                                                 \n","1                                     0.000000                     0.265577   \n","2                                     0.000000                     0.265577   \n","4                                     0.170397                     0.000000   \n","5                                     0.343329                     0.253823   \n","6                                     0.170151                     0.000000   \n","\n","               categories_Movies and TV  categories_Anime  \\\n","user_code_new                                               \n","1                              0.350396           0.50743   \n","2                              0.350396           0.50743   \n","4                              0.203027           0.00000   \n","5                              0.330648           0.00000   \n","6                              0.608044           0.00000   \n","\n","               categories_Language and Names  \n","user_code_new                                 \n","1                                   0.000000  \n","2                                   0.000000  \n","4                                   0.751290  \n","5                                   0.468476  \n","6                                   0.468047  \n","\n","[5 rows x 29 columns]"]},"execution_count":94,"metadata":{},"output_type":"execute_result"}],"source":["print(user_mapping.shape)\n","user_mapping.head()"]},{"cell_type":"code","execution_count":95,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":461},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123973283,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"_b7ANeAvRilT","outputId":"f57ce014-58ec-40ec-8509-5fff8dee0717"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-6e704d5e-627e-4f9f-915a-d21024622aae\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003ecategories_Hobbies\u003c/th\u003e\n","      \u003cth\u003ecategories_Music\u003c/th\u003e\n","      \u003cth\u003edisplayType_text\u003c/th\u003e\n","      \u003cth\u003ecategories_Food and Drinks\u003c/th\u003e\n","      \u003cth\u003ecategories_Internet\u003c/th\u003e\n","      \u003cth\u003ecategories_Hypothetical\u003c/th\u003e\n","      \u003cth\u003ecategories_Philosophy and Religion\u003c/th\u003e\n","      \u003cth\u003ecategories_Sports\u003c/th\u003e\n","      \u003cth\u003ecategories_Lifestyle\u003c/th\u003e\n","      \u003cth\u003ecategories_Celebrities\u003c/th\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003cth\u003ecategories_Would You Rather\u003c/th\u003e\n","      \u003cth\u003ecategories_Travel and Geography\u003c/th\u003e\n","      \u003cth\u003ecategories_Sneakers\u003c/th\u003e\n","      \u003cth\u003ecategories_Current Events\u003c/th\u003e\n","      \u003cth\u003ecategories_Dating and Relationship\u003c/th\u003e\n","      \u003cth\u003ecategories_Shopping and Finance\u003c/th\u003e\n","      \u003cth\u003ecategories_Books And Comics\u003c/th\u003e\n","      \u003cth\u003ecategories_Movies and TV\u003c/th\u003e\n","      \u003cth\u003ecategories_Anime\u003c/th\u003e\n","      \u003cth\u003ecategories_Language and Names\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e801\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e802\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e804\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e805\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e806\u003c/th\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e707 rows  29 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-6e704d5e-627e-4f9f-915a-d21024622aae')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-6e704d5e-627e-4f9f-915a-d21024622aae button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-6e704d5e-627e-4f9f-915a-d21024622aae');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-3fe80768-0d33-4a91-84c2-d68459aa4f1d\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-3fe80768-0d33-4a91-84c2-d68459aa4f1d')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-3fe80768-0d33-4a91-84c2-d68459aa4f1d button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["     categories_Hobbies  categories_Music  displayType_text  \\\n","0                     0                 0                 1   \n","1                     0                 0                 1   \n","2                     0                 0                 1   \n","3                     0                 0                 1   \n","4                     0                 0                 1   \n","..                  ...               ...               ...   \n","801                   0                 0                 1   \n","802                   0                 0                 1   \n","804                   0                 0                 1   \n","805                   0                 0                 1   \n","806                   0                 0                 1   \n","\n","     categories_Food and Drinks  categories_Internet  categories_Hypothetical  \\\n","0                             0                    0                        0   \n","1                             0                    0                        0   \n","2                             1                    0                        0   \n","3                             0                    0                        0   \n","4                             0                    0                        0   \n","..                          ...                  ...                      ...   \n","801                           0                    0                        0   \n","802                           0                    0                        0   \n","804                           0                    0                        0   \n","805                           0                    1                        0   \n","806                           0                    0                        0   \n","\n","     categories_Philosophy and Religion  categories_Sports  \\\n","0                                     0                  0   \n","1                                     0                  0   \n","2                                     0                  0   \n","3                                     0                  0   \n","4                                     0                  0   \n","..                                  ...                ...   \n","801                                   0                  0   \n","802                                   0                  0   \n","804                                   0                  0   \n","805                                   0                  0   \n","806                                   0                  0   \n","\n","     categories_Lifestyle  categories_Celebrities  ...  \\\n","0                       0                       0  ...   \n","1                       0                       0  ...   \n","2                       0                       0  ...   \n","3                       0                       0  ...   \n","4                       0                       0  ...   \n","..                    ...                     ...  ...   \n","801                     0                       0  ...   \n","802                     0                       0  ...   \n","804                     0                       0  ...   \n","805                     0                       0  ...   \n","806                     0                       0  ...   \n","\n","     categories_Would You Rather  categories_Travel and Geography  \\\n","0                              0                                0   \n","1                              0                                0   \n","2                              0                                0   \n","3                              0                                0   \n","4                              1                                0   \n","..                           ...                              ...   \n","801                            0                                0   \n","802                            0                                0   \n","804                            0                                0   \n","805                            0                                0   \n","806                            0                                0   \n","\n","     categories_Sneakers  categories_Current Events  \\\n","0                      0                          0   \n","1                      0                          0   \n","2                      0                          0   \n","3                      0                          0   \n","4                      0                          0   \n","..                   ...                        ...   \n","801                    0                          0   \n","802                    0                          0   \n","804                    0                          0   \n","805                    0                          0   \n","806                    0                          0   \n","\n","     categories_Dating and Relationship  categories_Shopping and Finance  \\\n","0                                     0                                0   \n","1                                     0                                0   \n","2                                     0                                0   \n","3                                     1                                0   \n","4                                     0                                0   \n","..                                  ...                              ...   \n","801                                   1                                0   \n","802                                   0                                0   \n","804                                   0                                0   \n","805                                   0                                0   \n","806                                   1                                0   \n","\n","     categories_Books And Comics  categories_Movies and TV  categories_Anime  \\\n","0                              0                         1                 0   \n","1                              0                         0                 0   \n","2                              0                         0                 0   \n","3                              0                         0                 0   \n","4                              0                         0                 0   \n","..                           ...                       ...               ...   \n","801                            0                         0                 0   \n","802                            0                         0                 0   \n","804                            0                         0                 0   \n","805                            0                         0                 0   \n","806                            0                         0                 0   \n","\n","     categories_Language and Names  \n","0                                0  \n","1                                0  \n","2                                0  \n","3                                0  \n","4                                0  \n","..                             ...  \n","801                              0  \n","802                              0  \n","804                              0  \n","805                              0  \n","806                              0  \n","\n","[707 rows x 29 columns]"]},"execution_count":95,"metadata":{},"output_type":"execute_result"}],"source":["poll_features[characteristics]"]},{"cell_type":"code","execution_count":96,"metadata":{"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123973283,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ZbROVtZfRV9D"},"outputs":[],"source":["n_users,n_items = max(user_mapping.index),len(characteristics)"]},{"cell_type":"code","execution_count":97,"metadata":{"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123973283,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"n7ZOmdd-SAG6"},"outputs":[],"source":["user_characteristics = np.zeros((n_users,n_items))"]},{"cell_type":"code","execution_count":98,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123973537,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"gC_O05H-HDFS","outputId":"7831eff8-5656-470b-bbaa-b36945b3e2c4"},"outputs":[{"data":{"text/plain":["(4835, 29)"]},"execution_count":98,"metadata":{},"output_type":"execute_result"}],"source":["user_characteristics.shape"]},{"cell_type":"code","execution_count":99,"metadata":{"executionInfo":{"elapsed":707,"status":"ok","timestamp":1701123974242,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"L8XLs-kOS_e_"},"outputs":[],"source":["x = 0\n","for index,line in user_mapping[characteristics].iterrows():\n","\n","  # print(index)\n","  # # print(line)\n","  # if x==5 :\n","  #   break\n","  # else :\n","  #   x+=1\n","\n","  user_characteristics[index-1,:] = line\n"]},{"cell_type":"code","execution_count":100,"metadata":{"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701123974242,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"tHfbE0TjTOlx"},"outputs":[],"source":["n_polls,n_items = poll_features.poll_code_new.max(),len(characteristics)"]},{"cell_type":"code","execution_count":101,"metadata":{"executionInfo":{"elapsed":9,"status":"ok","timestamp":1701123974242,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"UoCJM1FuTOo_"},"outputs":[],"source":["poll_characteristics = np.zeros((n_polls,n_items))"]},{"cell_type":"code","execution_count":102,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":9,"status":"ok","timestamp":1701123974242,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"i-huOV5qUzfk","outputId":"63e78f73-0dcb-4026-dabd-b1e25d3cc0bc"},"outputs":[{"data":{"text/plain":["(707, 29)"]},"execution_count":102,"metadata":{},"output_type":"execute_result"}],"source":["poll_characteristics.shape"]},{"cell_type":"code","execution_count":103,"metadata":{"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123974243,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"2dR5lld0WIjJ"},"outputs":[],"source":["characteristics.append('poll_code_new')"]},{"cell_type":"code","execution_count":104,"metadata":{"executionInfo":{"elapsed":434,"status":"ok","timestamp":1701123974673,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"YWaZkbawTOuT"},"outputs":[],"source":["for _,line in poll_features[characteristics].iterrows():\n","\n","  # print(line[:-1])\n","  # print(line[-1])\n","\n","  poll_characteristics[line[-1]-1,:] = line[:-1]"]},{"cell_type":"code","execution_count":105,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":492},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1701123974673,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"m1tAQRjXW4tA","outputId":"39de5d6c-b7f1-4e95-d6ef-c9dbd0952972"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-b5c1c05d-dec1-4894-9c49-9eb8e2fc56f7\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003ecategories_Hobbies\u003c/th\u003e\n","      \u003cth\u003ecategories_Music\u003c/th\u003e\n","      \u003cth\u003edisplayType_text\u003c/th\u003e\n","      \u003cth\u003ecategories_Food and Drinks\u003c/th\u003e\n","      \u003cth\u003ecategories_Internet\u003c/th\u003e\n","      \u003cth\u003ecategories_Hypothetical\u003c/th\u003e\n","      \u003cth\u003ecategories_Philosophy and Religion\u003c/th\u003e\n","      \u003cth\u003ecategories_Sports\u003c/th\u003e\n","      \u003cth\u003ecategories_Lifestyle\u003c/th\u003e\n","      \u003cth\u003ecategories_Celebrities\u003c/th\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003cth\u003ecategories_Would You Rather\u003c/th\u003e\n","      \u003cth\u003ecategories_Travel and Geography\u003c/th\u003e\n","      \u003cth\u003ecategories_Sneakers\u003c/th\u003e\n","      \u003cth\u003ecategories_Current Events\u003c/th\u003e\n","      \u003cth\u003ecategories_Dating and Relationship\u003c/th\u003e\n","      \u003cth\u003ecategories_Shopping and Finance\u003c/th\u003e\n","      \u003cth\u003ecategories_Books And Comics\u003c/th\u003e\n","      \u003cth\u003ecategories_Movies and TV\u003c/th\u003e\n","      \u003cth\u003ecategories_Anime\u003c/th\u003e\n","      \u003cth\u003ecategories_Language and Names\u003c/th\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003euser_code_new\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.013889\u003c/td\u003e\n","      \u003ctd\u003e0.507009\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.170582\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.034211\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.070817\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.160119\u003c/td\u003e\n","      \u003ctd\u003e0.663879\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.265577\u003c/td\u003e\n","      \u003ctd\u003e0.350396\u003c/td\u003e\n","      \u003ctd\u003e0.50743\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.013889\u003c/td\u003e\n","      \u003ctd\u003e0.507009\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.170582\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.034211\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.070817\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.160119\u003c/td\u003e\n","      \u003ctd\u003e0.663879\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.265577\u003c/td\u003e\n","      \u003ctd\u003e0.350396\u003c/td\u003e\n","      \u003ctd\u003e0.50743\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e0.011538\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.505829\u003c/td\u003e\n","      \u003ctd\u003e0.02359\u003c/td\u003e\n","      \u003ctd\u003e0.024158\u003c/td\u003e\n","      \u003ctd\u003e0.082516\u003c/td\u003e\n","      \u003ctd\u003e0.044958\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.112962\u003c/td\u003e\n","      \u003ctd\u003e0.010608\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.172879\u003c/td\u003e\n","      \u003ctd\u003e0.059615\u003c/td\u003e\n","      \u003ctd\u003e0.063355\u003c/td\u003e\n","      \u003ctd\u003e0.033796\u003c/td\u003e\n","      \u003ctd\u003e0.804179\u003c/td\u003e\n","      \u003ctd\u003e0.170397\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.203027\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.751290\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e5\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.500000\u003c/td\u003e\n","      \u003ctd\u003e0.00960\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.116313\u003c/td\u003e\n","      \u003ctd\u003e0.054819\u003c/td\u003e\n","      \u003ctd\u003e0.023195\u003c/td\u003e\n","      \u003ctd\u003e0.047486\u003c/td\u003e\n","      \u003ctd\u003e0.024922\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.177457\u003c/td\u003e\n","      \u003ctd\u003e0.061529\u003c/td\u003e\n","      \u003ctd\u003e0.032759\u003c/td\u003e\n","      \u003ctd\u003e0.067712\u003c/td\u003e\n","      \u003ctd\u003e0.798281\u003c/td\u003e\n","      \u003ctd\u003e0.343329\u003c/td\u003e\n","      \u003ctd\u003e0.253823\u003c/td\u003e\n","      \u003ctd\u003e0.330648\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.468476\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e6\u003c/th\u003e\n","      \u003ctd\u003e0.004098\u003c/td\u003e\n","      \u003ctd\u003e0.004115\u003c/td\u003e\n","      \u003ctd\u003e0.504127\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.058250\u003c/td\u003e\n","      \u003ctd\u003e0.088347\u003c/td\u003e\n","      \u003ctd\u003e0.048440\u003c/td\u003e\n","      \u003ctd\u003e0.010180\u003c/td\u003e\n","      \u003ctd\u003e0.123407\u003c/td\u003e\n","      \u003ctd\u003e0.023452\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.202575\u003c/td\u003e\n","      \u003ctd\u003e0.095060\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.069953\u003c/td\u003e\n","      \u003ctd\u003e0.789055\u003c/td\u003e\n","      \u003ctd\u003e0.170151\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.608044\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.468047\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4831\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.500000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4832\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.500000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.857143\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4833\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.500000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4834\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.500000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.857143\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4835\u003c/th\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.500000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","      \u003ctd\u003e0.00000\u003c/td\u003e\n","      \u003ctd\u003e0.000000\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e4200 rows  29 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-b5c1c05d-dec1-4894-9c49-9eb8e2fc56f7')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-b5c1c05d-dec1-4894-9c49-9eb8e2fc56f7 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-b5c1c05d-dec1-4894-9c49-9eb8e2fc56f7');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-fe21cf64-0734-4366-86ab-c26907a6bfd4\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-fe21cf64-0734-4366-86ab-c26907a6bfd4')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-fe21cf64-0734-4366-86ab-c26907a6bfd4 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["               categories_Hobbies  categories_Music  displayType_text  \\\n","user_code_new                                                           \n","1                        0.000000          0.013889          0.507009   \n","2                        0.000000          0.013889          0.507009   \n","4                        0.011538          0.000000          0.505829   \n","5                        0.000000          0.000000          0.500000   \n","6                        0.004098          0.004115          0.504127   \n","...                           ...               ...               ...   \n","4831                     0.000000          0.000000          0.500000   \n","4832                     0.000000          0.000000          0.500000   \n","4833                     0.000000          0.000000          0.500000   \n","4834                     0.000000          0.000000          0.500000   \n","4835                     0.000000          0.000000          0.500000   \n","\n","               categories_Food and Drinks  categories_Internet  \\\n","user_code_new                                                    \n","1                                 0.00000             0.000000   \n","2                                 0.00000             0.000000   \n","4                                 0.02359             0.024158   \n","5                                 0.00960             0.000000   \n","6                                 0.00000             0.058250   \n","...                                   ...                  ...   \n","4831                              0.00000             0.000000   \n","4832                              0.00000             0.000000   \n","4833                              0.00000             0.000000   \n","4834                              0.00000             0.000000   \n","4835                              0.00000             0.000000   \n","\n","               categories_Hypothetical  categories_Philosophy and Religion  \\\n","user_code_new                                                                \n","1                             0.170582                            0.000000   \n","2                             0.170582                            0.000000   \n","4                             0.082516                            0.044958   \n","5                             0.116313                            0.054819   \n","6                             0.088347                            0.048440   \n","...                                ...                                 ...   \n","4831                          0.000000                            0.000000   \n","4832                          0.000000                            0.000000   \n","4833                          0.000000                            0.000000   \n","4834                          0.000000                            0.000000   \n","4835                          0.000000                            0.000000   \n","\n","               categories_Sports  categories_Lifestyle  \\\n","user_code_new                                            \n","1                       0.034211              0.000000   \n","2                       0.034211              0.000000   \n","4                       0.000000              0.112962   \n","5                       0.023195              0.047486   \n","6                       0.010180              0.123407   \n","...                          ...                   ...   \n","4831                    0.000000              0.000000   \n","4832                    0.000000              0.857143   \n","4833                    0.000000              0.000000   \n","4834                    0.000000              0.000000   \n","4835                    0.000000              0.000000   \n","\n","               categories_Celebrities  ...  categories_Would You Rather  \\\n","user_code_new                          ...                                \n","1                            0.070817  ...                     0.000000   \n","2                            0.070817  ...                     0.000000   \n","4                            0.010608  ...                     0.172879   \n","5                            0.024922  ...                     0.177457   \n","6                            0.023452  ...                     0.202575   \n","...                               ...  ...                          ...   \n","4831                         0.000000  ...                     0.000000   \n","4832                         0.000000  ...                     0.000000   \n","4833                         0.000000  ...                     0.000000   \n","4834                         0.000000  ...                     0.857143   \n","4835                         0.000000  ...                     0.000000   \n","\n","               categories_Travel and Geography  categories_Sneakers  \\\n","user_code_new                                                         \n","1                                     0.000000             0.000000   \n","2                                     0.000000             0.000000   \n","4                                     0.059615             0.063355   \n","5                                     0.061529             0.032759   \n","6                                     0.095060             0.000000   \n","...                                        ...                  ...   \n","4831                                  0.000000             0.000000   \n","4832                                  0.000000             0.000000   \n","4833                                  0.000000             0.000000   \n","4834                                  0.000000             0.000000   \n","4835                                  0.000000             0.000000   \n","\n","               categories_Current Events  categories_Dating and Relationship  \\\n","user_code_new                                                                  \n","1                               0.160119                            0.663879   \n","2                               0.160119                            0.663879   \n","4                               0.033796                            0.804179   \n","5                               0.067712                            0.798281   \n","6                               0.069953                            0.789055   \n","...                                  ...                                 ...   \n","4831                            0.000000                            0.000000   \n","4832                            0.000000                            0.000000   \n","4833                            0.000000                            0.000000   \n","4834                            0.000000                            0.000000   \n","4835                            0.000000                            0.000000   \n","\n","               categories_Shopping and Finance  categories_Books And Comics  \\\n","user_code_new                                                                 \n","1                                     0.000000                     0.265577   \n","2                                     0.000000                     0.265577   \n","4                                     0.170397                     0.000000   \n","5                                     0.343329                     0.253823   \n","6                                     0.170151                     0.000000   \n","...                                        ...                          ...   \n","4831                                  0.000000                     0.000000   \n","4832                                  0.000000                     0.000000   \n","4833                                  0.000000                     0.000000   \n","4834                                  0.000000                     0.000000   \n","4835                                  0.000000                     0.000000   \n","\n","               categories_Movies and TV  categories_Anime  \\\n","user_code_new                                               \n","1                              0.350396           0.50743   \n","2                              0.350396           0.50743   \n","4                              0.203027           0.00000   \n","5                              0.330648           0.00000   \n","6                              0.608044           0.00000   \n","...                                 ...               ...   \n","4831                           0.000000           0.00000   \n","4832                           0.000000           0.00000   \n","4833                           0.000000           0.00000   \n","4834                           0.000000           0.00000   \n","4835                           0.000000           0.00000   \n","\n","               categories_Language and Names  \n","user_code_new                                 \n","1                                   0.000000  \n","2                                   0.000000  \n","4                                   0.751290  \n","5                                   0.468476  \n","6                                   0.468047  \n","...                                      ...  \n","4831                                0.000000  \n","4832                                0.000000  \n","4833                                0.000000  \n","4834                                0.000000  \n","4835                                0.000000  \n","\n","[4200 rows x 29 columns]"]},"execution_count":105,"metadata":{},"output_type":"execute_result"}],"source":["user_mapping"]},{"cell_type":"code","execution_count":106,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":461},"executionInfo":{"elapsed":248,"status":"ok","timestamp":1701123974917,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"tR67G2WhXj3a","outputId":"d38fdff0-d621-48d9-d577-236ffe979cd3"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-0245f048-e363-478b-837b-a6bcb341b2b9\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003epoll_code_new\u003c/th\u003e\n","      \u003cth\u003edisplayType_text\u003c/th\u003e\n","      \u003cth\u003ecategories_Anime\u003c/th\u003e\n","      \u003cth\u003ecategories_Bollywood\u003c/th\u003e\n","      \u003cth\u003ecategories_Books And Comics\u003c/th\u003e\n","      \u003cth\u003ecategories_Campus Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_Celebrities\u003c/th\u003e\n","      \u003cth\u003ecategories_City Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_College Musings\u003c/th\u003e\n","      \u003cth\u003ecategories_Current Events\u003c/th\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003cth\u003ecategories_Other\u003c/th\u003e\n","      \u003cth\u003ecategories_Philosophy and Religion\u003c/th\u003e\n","      \u003cth\u003ecategories_Shopping and Finance\u003c/th\u003e\n","      \u003cth\u003ecategories_Sneakers\u003c/th\u003e\n","      \u003cth\u003ecategories_Sports\u003c/th\u003e\n","      \u003cth\u003ecategories_Tech\u003c/th\u003e\n","      \u003cth\u003ecategories_Technology\u003c/th\u003e\n","      \u003cth\u003ecategories_Travel and Geography\u003c/th\u003e\n","      \u003cth\u003ecategories_Trivia\u003c/th\u003e\n","      \u003cth\u003ecategories_Would You Rather\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e4\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e7\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003e11\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e12\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e801\u003c/th\u003e\n","      \u003ctd\u003e698\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e802\u003c/th\u003e\n","      \u003ctd\u003e701\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e804\u003c/th\u003e\n","      \u003ctd\u003e702\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e805\u003c/th\u003e\n","      \u003ctd\u003e703\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e806\u003c/th\u003e\n","      \u003ctd\u003e705\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e707 rows  30 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-0245f048-e363-478b-837b-a6bcb341b2b9')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-0245f048-e363-478b-837b-a6bcb341b2b9 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-0245f048-e363-478b-837b-a6bcb341b2b9');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-68a3fe0c-5f1c-4389-8cb8-cdb8d209219c\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-68a3fe0c-5f1c-4389-8cb8-cdb8d209219c')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-68a3fe0c-5f1c-4389-8cb8-cdb8d209219c button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["     poll_code_new  displayType_text  categories_Anime  categories_Bollywood  \\\n","0                3                 1                 0                     0   \n","1                4                 1                 0                     0   \n","2                7                 1                 0                     0   \n","3               11                 1                 0                     0   \n","4               12                 1                 0                     0   \n","..             ...               ...               ...                   ...   \n","801            698                 1                 0                     0   \n","802            701                 1                 0                     0   \n","804            702                 1                 0                     0   \n","805            703                 1                 0                     0   \n","806            705                 1                 0                     0   \n","\n","     categories_Books And Comics  categories_Campus Musings  \\\n","0                              0                          0   \n","1                              0                          0   \n","2                              0                          0   \n","3                              0                          0   \n","4                              0                          0   \n","..                           ...                        ...   \n","801                            0                          0   \n","802                            0                          0   \n","804                            0                          0   \n","805                            0                          0   \n","806                            0                          0   \n","\n","     categories_Celebrities  categories_City Musings  \\\n","0                         0                        0   \n","1                         0                        0   \n","2                         0                        0   \n","3                         0                        0   \n","4                         0                        0   \n","..                      ...                      ...   \n","801                       0                        0   \n","802                       0                        0   \n","804                       0                        0   \n","805                       0                        0   \n","806                       0                        0   \n","\n","     categories_College Musings  categories_Current Events  ...  \\\n","0                             0                          0  ...   \n","1                             0                          0  ...   \n","2                             0                          0  ...   \n","3                             0                          0  ...   \n","4                             0                          0  ...   \n","..                          ...                        ...  ...   \n","801                           0                          0  ...   \n","802                           0                          0  ...   \n","804                           0                          0  ...   \n","805                           0                          0  ...   \n","806                           0                          0  ...   \n","\n","     categories_Other  categories_Philosophy and Religion  \\\n","0                   0                                   0   \n","1                   1                                   0   \n","2                   0                                   0   \n","3                   0                                   0   \n","4                   0                                   0   \n","..                ...                                 ...   \n","801                 0                                   0   \n","802                 1                                   0   \n","804                 1                                   0   \n","805                 0                                   0   \n","806                 0                                   0   \n","\n","     categories_Shopping and Finance  categories_Sneakers  categories_Sports  \\\n","0                                  0                    0                  0   \n","1                                  0                    0                  0   \n","2                                  0                    0                  0   \n","3                                  0                    0                  0   \n","4                                  0                    0                  0   \n","..                               ...                  ...                ...   \n","801                                0                    0                  0   \n","802                                0                    0                  0   \n","804                                0                    0                  0   \n","805                                0                    0                  0   \n","806                                0                    0                  0   \n","\n","     categories_Tech  categories_Technology  categories_Travel and Geography  \\\n","0                  0                      0                                0   \n","1                  0                      0                                0   \n","2                  0                      0                                0   \n","3                  0                      0                                0   \n","4                  0                      0                                0   \n","..               ...                    ...                              ...   \n","801                0                      0                                0   \n","802                0                      0                                0   \n","804                0                      0                                0   \n","805                0                      0                                0   \n","806                0                      0                                0   \n","\n","     categories_Trivia  categories_Would You Rather  \n","0                    0                            0  \n","1                    0                            0  \n","2                    0                            0  \n","3                    0                            0  \n","4                    0                            1  \n","..                 ...                          ...  \n","801                  0                            0  \n","802                  0                            0  \n","804                  0                            0  \n","805                  0                            0  \n","806                  0                            0  \n","\n","[707 rows x 30 columns]"]},"execution_count":106,"metadata":{},"output_type":"execute_result"}],"source":["poll_features"]},{"cell_type":"code","execution_count":107,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":19,"status":"ok","timestamp":1701123974918,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"WdufypwCWzFf","outputId":"4c2c5456-312f-4891-d344-9c25d3abafb7"},"outputs":[{"data":{"text/plain":["(4835, 29)"]},"execution_count":107,"metadata":{},"output_type":"execute_result"}],"source":["user_characteristics.shape"]},{"cell_type":"code","execution_count":108,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":16,"status":"ok","timestamp":1701123974918,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"_5nsIg5hTOy4","outputId":"aa390e6f-307d-411e-8e4c-de252d9e8e40"},"outputs":[{"data":{"text/plain":["(707, 29)"]},"execution_count":108,"metadata":{},"output_type":"execute_result"}],"source":["poll_characteristics.shape"]},{"cell_type":"code","execution_count":109,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":13,"status":"ok","timestamp":1701123974918,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"vbiJuOuBTO1f","outputId":"23a76046-0861-44de-c532-a1cadc84fbb3"},"outputs":[{"data":{"text/plain":["(29, 707)"]},"execution_count":109,"metadata":{},"output_type":"execute_result"}],"source":["poll_characteristics.T.shape"]},{"cell_type":"code","execution_count":110,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701123974918,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"6SKz9uPiKvyK","outputId":"d595974c-5889-472b-88f8-7e663749f58c"},"outputs":[{"data":{"text/plain":["array([[1., 0., 0., ..., 0., 0., 0.],\n","       [0., 0., 0., ..., 0., 0., 0.],\n","       [1., 1., 1., ..., 1., 1., 1.],\n","       ...,\n","       [0., 0., 1., ..., 0., 0., 0.],\n","       [0., 0., 0., ..., 0., 0., 0.],\n","       [0., 0., 0., ..., 0., 0., 0.]])"]},"execution_count":110,"metadata":{},"output_type":"execute_result"}],"source":["poll_characteristics.T"]},{"cell_type":"code","execution_count":111,"metadata":{"executionInfo":{"elapsed":8,"status":"ok","timestamp":1701123974918,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"y1J500TTTO3-"},"outputs":[],"source":["result = user_characteristics.dot(poll_characteristics.T)#/poll_characteristics.sum(axis=1)[np.newaxis,:]"]},{"cell_type":"code","execution_count":112,"metadata":{"executionInfo":{"elapsed":8,"status":"ok","timestamp":1701123974918,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"8m92vpMxTO_e"},"outputs":[],"source":["result = pd.DataFrame(result)"]},{"cell_type":"code","execution_count":113,"metadata":{"executionInfo":{"elapsed":8,"status":"ok","timestamp":1701123974918,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"17Fe3w6dxNq0"},"outputs":[],"source":["result.index = [(i+1) for i in list(result.index)]\n","result.columns = [(i+1) for i in list(result.columns)]"]},{"cell_type":"code","execution_count":114,"metadata":{"executionInfo":{"elapsed":252,"status":"ok","timestamp":1701123975163,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"cZSnYgiOxNrC"},"outputs":[],"source":["result = result.reset_index()\n","result = result.rename(columns={'index':'user_code_new'})"]},{"cell_type":"code","execution_count":115,"metadata":{"executionInfo":{"elapsed":346,"status":"ok","timestamp":1701123975507,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ONTWoP6RxNrD"},"outputs":[],"source":["result = result.melt(['user_code_new']).rename(columns={'variable':'poll_code_new','value':'predicted'})"]},{"cell_type":"code","execution_count":116,"metadata":{"executionInfo":{"elapsed":2308,"status":"ok","timestamp":1701123977814,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"MZVtheCixNrD"},"outputs":[],"source":["result = result.sort_values(['user_code_new','predicted'], ascending=[True, False])\n","# result"]},{"cell_type":"code","execution_count":117,"metadata":{"executionInfo":{"elapsed":2,"status":"ok","timestamp":1701123977814,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"H8ROzjp3FT9G"},"outputs":[],"source":["def get_top_n(predictions, n=50, train=train, format='dict'):\n","\n","    train['train_flag']=1\n","    predictions = predictions.merge(train, on=('user_code_new','poll_code_new'),how='left')\n","    predictions = predictions[predictions.train_flag!=1]\n","\n","    # display(predictions.shape)\n","    # display(predictions)\n","\n","    predictions = predictions.sort_values(['user_code_new','predicted','poll_code_new'],ascending=[True,False,True])\n","    predictions = predictions.groupby('user_code_new').head(n)\n","\n","    if format=='dict' :\n","      top_n = dict()\n","      for i,row in a.iterrows():\n","        if row['user_code_new'] not in top_n:\n","          top_n[row['user_code_new']] = []\n","        top_n[row['user_code_new']].append((row['poll_code_new'],row['predicted']))\n","    else :\n","       top_n = predictions[['user_code_new','poll_code_new','predicted']]\n","\n","    return top_n"]},{"cell_type":"code","execution_count":118,"metadata":{"executionInfo":{"elapsed":10298,"status":"ok","timestamp":1701123988110,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"BGlHBSKGFT9T"},"outputs":[],"source":["top_n = get_top_n(result,n=50,train=train,format='df')"]},{"cell_type":"markdown","metadata":{"id":"ZDIDAUxCwg5c"},"source":["##### CB - Metrics"]},{"cell_type":"code","execution_count":119,"metadata":{"executionInfo":{"elapsed":25,"status":"ok","timestamp":1701123988111,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"RG15jCHowgyz"},"outputs":[],"source":["def mean_absolute_error_value(test,predictions,test_type='CB'):\n","    \"\"\"\n","    Calculate Mean Absolute Error (MAE).\n","    \"\"\"\n","\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    test = test.merge(predictions,on=('user_code_new','poll_code_new'),how='left')\n","    return mean_absolute_error(test['event_score'], test['predicted'])\n","\n","def root_mean_squared_error_value(test,predictions,test_type='CB'):\n","    \"\"\"\n","    Calculate Root Mean Squared Error (RMSE).\n","    \"\"\"\n","\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    test = test.merge(predictions,on=('user_code_new','poll_code_new'),how='left')\n","    return np.sqrt(mean_squared_error(test['event_score'], test['predicted']))\n","\n","def precision_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate Precision at N.\n","    \"\"\"\n","\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","    return len(merged_df) / top_n.shape[0] if top_n.shape[0] \u003e 0 else 0\n","\n","def recall_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate Recall at N.\n","    \"\"\"\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","    return len(merged_df) / len(test) if len(test) \u003e 0 else 0\n","\n","def f1_score_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate F1 Score at N.\n","    \"\"\"\n","\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    precision = precision_at_n(top_n, test, n)\n","    recall = recall_at_n(top_n, test, n)\n","    return 2 * (precision * recall) / (precision + recall) if (precision + recall) \u003e 0 else 0\n","\n","def mean_reciprocal_rank(top_n, test,test_type='CB'):\n","    \"\"\"\n","    Calculate Mean Reciprocal Rank (MRR).\n","    \"\"\"\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    top_n['n_rank'] = top_n.groupby('user_code_new')['predicted'].rank(ascending=False)\n","    merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","    merged_df['rank'] = merged_df.groupby('user_code_new')['predicted'].rank(ascending=False)\n","    reciprocal_rank = 1 / merged_df[merged_df['rank'] == 1]['n_rank']\n","    return np.mean(reciprocal_rank) if len(reciprocal_rank) \u003e 0 else 0\n","\n","\n","def mean_average_precision_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate Mean Average Precision (MAP) at N.\n","    \"\"\"\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    average_precision_list = []\n","    for _, group in top_n.groupby('user_code_new'):\n","        relevant_items = set(test[test['user_code_new'] == group['user_code_new'].iloc[0]]['poll_code_new'].values)\n","        precision_at_k_list = []\n","        cumulative_precision = 0\n","        for i, item_id in enumerate(group['poll_code_new']):\n","            if item_id in relevant_items:\n","                cumulative_precision += 1\n","                precision_at_k_list.append(cumulative_precision / (i + 1))\n","        if precision_at_k_list:\n","            average_precision_list.append(np.mean(precision_at_k_list))\n","    return np.mean(average_precision_list) if average_precision_list else 0\n","\n","def ndcg_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate Normalized Discounted Cumulative Gain (NDCG) at N.\n","    \"\"\"\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","    merged_df['rank'] = merged_df.groupby('user_code_new')['predicted'].rank(ascending=False)\n","    merged_df['dcg'] = (2 ** merged_df['event_score']) / np.log2(merged_df['rank'] + 1)\n","    merged_df['idcg'] = (2 ** merged_df['event_score']) / np.log2(merged_df['rank'] + 2)\n","    ndcg = np.mean(merged_df['dcg'] / merged_df['idcg']) if len(merged_df) \u003e 0 else 0\n","    return ndcg"]},{"cell_type":"code","execution_count":120,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":5188,"status":"ok","timestamp":1701123993276,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"HaKSXI2gKBD0","outputId":"c472248b-38d6-4cee-a9b8-710d1f051b15"},"outputs":[{"name":"stdout","output_type":"stream","text":["Mean Absolute Error: 1.8688\n","Root Mean Squared Error: 1.9951\n","Precision at 50: 0.0079\n","Recall at 50: 0.1477\n","F1 Score at 50: 0.0150\n","Mean Reciprocal Rank: 0.0473\n","NDCG at 50: 1.4002\n","Mean Average Precision at 50: 0.0998\n"]}],"source":["# Example usage:\n","# Assuming you have DataFrames 'top_n' and 'test' with the specified columns\n","\n","rmse_value = root_mean_squared_error_value(test,result)\n","mae_value = mean_absolute_error_value(test,result)\n","precision = precision_at_n(top_n, test, n=50)\n","recall = recall_at_n(top_n, test, n=50)\n","f1_score_value = f1_score_at_n(top_n, test, n=50)\n","mrr = mean_reciprocal_rank(top_n, test)\n","ndcg = ndcg_at_n(top_n, test, n=50)\n","map_value = mean_average_precision_at_n(top_n, test, n=50)\n","\n","\n","print(f\"Mean Absolute Error: {mae_value:.4f}\")\n","print(f\"Root Mean Squared Error: {rmse_value:.4f}\")\n","print(f\"Precision at 50: {precision:.4f}\")\n","print(f\"Recall at 50: {recall:.4f}\")\n","print(f\"F1 Score at 50: {f1_score_value:.4f}\")\n","print(f\"Mean Reciprocal Rank: {mrr:.4f}\")\n","print(f\"NDCG at 50: {ndcg:.4f}\")\n","print(f\"Mean Average Precision at 50: {map_value:.4f}\")"]},{"cell_type":"markdown","metadata":{"id":"tw5ZC_IMMPfl"},"source":["#### Colaborative Filtering - User Basis"]},{"cell_type":"code","execution_count":121,"metadata":{"executionInfo":{"elapsed":16,"status":"ok","timestamp":1701123993276,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"XqvCuEo-UqBL"},"outputs":[],"source":["n_users = train.user_code_new.max()\n","n_items = train.poll_code_new.max()"]},{"cell_type":"code","execution_count":122,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":15,"status":"ok","timestamp":1701123993276,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Qg59zVGXUqHe","outputId":"fd2c88a1-feef-4519-e456-afdb069da28b"},"outputs":[{"data":{"text/plain":["(4835, 918)"]},"execution_count":122,"metadata":{},"output_type":"execute_result"}],"source":["n_users,n_items"]},{"cell_type":"code","execution_count":123,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":13,"status":"ok","timestamp":1701123993276,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"CfqJtnKPzjjC","outputId":"e509740e-2c86-4276-afb9-a1d9ceea8336"},"outputs":[{"data":{"text/plain":["4438530"]},"execution_count":123,"metadata":{},"output_type":"execute_result"}],"source":["4835*918"]},{"cell_type":"code","execution_count":124,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":13,"status":"ok","timestamp":1701123993276,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"RLRMACkzzmHX","outputId":"d98588bf-10b2-4ef8-c6ab-37eaaa5fe5f5"},"outputs":[{"data":{"text/plain":["117345"]},"execution_count":124,"metadata":{},"output_type":"execute_result"}],"source":["train.shape[0]"]},{"cell_type":"code","execution_count":125,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":12,"status":"ok","timestamp":1701123993276,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"VWM_RJWMzsnz","outputId":"fc20457a-ca95-471b-ee53-bddf0282c967"},"outputs":[{"data":{"text/plain":["4321185"]},"execution_count":125,"metadata":{},"output_type":"execute_result"}],"source":["4835*918 - train.shape[0]"]},{"cell_type":"code","execution_count":126,"metadata":{"executionInfo":{"elapsed":309,"status":"ok","timestamp":1701123993574,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ZhMXumtkUqKh"},"outputs":[],"source":["data_matrix = np.zeros((n_users, n_items))\n","data_matrix_similarity = np.zeros((n_users, n_items))\n","\n","for line in train[train.event_score!=0].itertuples():\n","\n","  # print(line)\n","  # print(line[1]) #user_code_new\n","  # print(line[2]) #poll_code_new\n","  # print(line[3]) #event_score\n","\n","  data_matrix[line[1]-1, line[2]-1] = line[3]\n","  data_matrix_similarity[line[1]-1, line[2]-1] = 1"]},{"cell_type":"code","execution_count":127,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":1314,"status":"ok","timestamp":1701123994887,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"-ASwp9ZQUrx7","outputId":"966769c0-45bc-484a-b0eb-9fd018d622ab"},"outputs":[{"name":"stdout","output_type":"stream","text":["CPU times: user 1.83 s, sys: 274 ms, total: 2.11 s\n","Wall time: 1.3 s\n"]}],"source":["%%time\n","from sklearn.metrics.pairwise import pairwise_distances\n","\n","user_similarity = pairwise_distances(data_matrix_similarity, metric='cosine')\n","item_similarity = pairwise_distances(data_matrix_similarity.T, metric='cosine')"]},{"cell_type":"code","execution_count":128,"metadata":{"executionInfo":{"elapsed":4,"status":"ok","timestamp":1701123994887,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"GKnjkD8QUsld"},"outputs":[],"source":["def predict(ratings, similarity, type='user'):\n","\n","    if type == 'user':\n","        mean_user_rating = ratings.mean(axis=1)\n","\n","        #We use np.newaxis so that mean_user_rating has same format as ratings\n","        ratings_diff = (ratings - mean_user_rating[:, np.newaxis])\n","\n","        pred = mean_user_rating[:, np.newaxis] + similarity.dot(ratings_diff) / np.array([np.abs(similarity).sum(axis=1)]).T\n","\n","    elif type == 'item':\n","        pred = ratings.dot(similarity) / np.array([np.abs(similarity).sum(axis=1)])\n","\n","    return pred"]},{"cell_type":"code","execution_count":129,"metadata":{"executionInfo":{"elapsed":2738,"status":"ok","timestamp":1701123997622,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"LA8BWCZeUt3n"},"outputs":[],"source":["user_prediction = predict(data_matrix, user_similarity, type='user')\n","item_prediction = predict(data_matrix, item_similarity, type='item')"]},{"cell_type":"code","execution_count":130,"metadata":{"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701123997622,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"Az2x3EWvUupv"},"outputs":[],"source":["result = pd.DataFrame(user_prediction)"]},{"cell_type":"code","execution_count":131,"metadata":{"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701123997622,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"aBZst8GaKRd2"},"outputs":[],"source":["result.index = [(i+1) for i in list(result.index)]\n","result.columns = [(i+1) for i in list(result.columns)]"]},{"cell_type":"code","execution_count":132,"metadata":{"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701123997622,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"BbErg0GnKWa8"},"outputs":[],"source":["result = result.reset_index()\n","result = result.rename(columns={'index':'user_code_new'})"]},{"cell_type":"code","execution_count":133,"metadata":{"executionInfo":{"elapsed":302,"status":"ok","timestamp":1701123997914,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"HToiBehgBdE1"},"outputs":[],"source":["result = result.melt(['user_code_new']).rename(columns={'variable':'poll_code_new','value':'predicted'})"]},{"cell_type":"code","execution_count":134,"metadata":{"executionInfo":{"elapsed":5674,"status":"ok","timestamp":1701124003587,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ouPh9-5fK74u"},"outputs":[],"source":["result = result.sort_values(['user_code_new','predicted'], ascending=[True, False])\n","# result"]},{"cell_type":"code","execution_count":135,"metadata":{"executionInfo":{"elapsed":10,"status":"ok","timestamp":1701124003588,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"L3ErCKrTRGz3"},"outputs":[],"source":["def get_top_n(predictions, n=50, train=train, format='dict'):\n","\n","    train['train_flag']=1\n","    predictions = predictions.merge(train, on=('user_code_new','poll_code_new'),how='left')\n","    predictions = predictions[predictions.train_flag!=1]\n","\n","    # display(predictions.shape)\n","    # display(predictions)\n","\n","    predictions = predictions.sort_values(['user_code_new','predicted','poll_code_new'],ascending=[True,False,True])\n","    predictions = predictions.groupby('user_code_new').head(n)\n","\n","    if format=='dict' :\n","      top_n = dict()\n","      for i,row in a.iterrows():\n","        if row['user_code_new'] not in top_n:\n","          top_n[row['user_code_new']] = []\n","        top_n[row['user_code_new']].append((row['poll_code_new'],row['predicted']))\n","    else :\n","       top_n = predictions[['user_code_new','poll_code_new','predicted']]\n","\n","    return top_n"]},{"cell_type":"code","execution_count":136,"metadata":{"executionInfo":{"elapsed":6143,"status":"ok","timestamp":1701124009721,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"r2LkCV4Yw9vN"},"outputs":[],"source":["top_n = get_top_n(result,n=50,train=train,format='df')"]},{"cell_type":"markdown","metadata":{"id":"jm-oeKxVCAs9"},"source":["##### CF - Metrics"]},{"cell_type":"code","execution_count":139,"metadata":{"executionInfo":{"elapsed":21,"status":"ok","timestamp":1701124009721,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"X6PQ6t-vq13x"},"outputs":[],"source":["def mean_absolute_error_value(test,predictions,test_type='CB'):\n","    \"\"\"\n","    Calculate Mean Absolute Error (MAE).\n","    \"\"\"\n","\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    test = test.merge(predictions,on=('user_code_new','poll_code_new'),how='left')\n","    return mean_absolute_error(test['event_score'], test['predicted'])\n","\n","def root_mean_squared_error_value(test,predictions,test_type='CB'):\n","    \"\"\"\n","    Calculate Root Mean Squared Error (RMSE).\n","    \"\"\"\n","\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    test = test.merge(predictions,on=('user_code_new','poll_code_new'),how='left')\n","    return np.sqrt(mean_squared_error(test['event_score'], test['predicted']))\n","\n","def precision_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate Precision at N.\n","    \"\"\"\n","\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","    return len(merged_df) / top_n.shape[0] if top_n.shape[0] \u003e 0 else 0\n","\n","def recall_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate Recall at N.\n","    \"\"\"\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","    return len(merged_df) / len(test) if len(test) \u003e 0 else 0\n","\n","def f1_score_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate F1 Score at N.\n","    \"\"\"\n","\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    precision = precision_at_n(top_n, test, n)\n","    recall = recall_at_n(top_n, test, n)\n","    return 2 * (precision * recall) / (precision + recall) if (precision + recall) \u003e 0 else 0\n","\n","def mean_reciprocal_rank(top_n, test,test_type='CB'):\n","    \"\"\"\n","    Calculate Mean Reciprocal Rank (MRR).\n","    \"\"\"\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    top_n['n_rank'] = top_n.groupby('user_code_new')['predicted'].rank(ascending=False)\n","    merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","    merged_df['rank'] = merged_df.groupby('user_code_new')['predicted'].rank(ascending=False)\n","    reciprocal_rank = 1 / merged_df[merged_df['rank'] == 1]['n_rank']\n","    return np.mean(reciprocal_rank) if len(reciprocal_rank) \u003e 0 else 0\n","\n","\n","def mean_average_precision_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate Mean Average Precision (MAP) at N.\n","    \"\"\"\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    average_precision_list = []\n","    for _, group in top_n.groupby('user_code_new'):\n","        relevant_items = set(test[test['user_code_new'] == group['user_code_new'].iloc[0]]['poll_code_new'].values)\n","        precision_at_k_list = []\n","        cumulative_precision = 0\n","        for i, item_id in enumerate(group['poll_code_new']):\n","            if item_id in relevant_items:\n","                cumulative_precision += 1\n","                precision_at_k_list.append(cumulative_precision / (i + 1))\n","        if precision_at_k_list:\n","            average_precision_list.append(np.mean(precision_at_k_list))\n","    return np.mean(average_precision_list) if average_precision_list else 0\n","\n","def ndcg_at_n(top_n, test, n=50,test_type='CB'):\n","    \"\"\"\n","    Calculate Normalized Discounted Cumulative Gain (NDCG) at N.\n","    \"\"\"\n","    if test_type == \"CB\" :\n","      # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","      test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","    merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","    merged_df['rank'] = merged_df.groupby('user_code_new')['predicted'].rank(ascending=False)\n","    merged_df['dcg'] = (2 ** merged_df['event_score']) / np.log2(merged_df['rank'] + 1)\n","    merged_df['idcg'] = (2 ** merged_df['event_score']) / np.log2(merged_df['rank'] + 2)\n","    ndcg = np.mean(merged_df['dcg'] / merged_df['idcg']) if len(merged_df) \u003e 0 else 0\n","    return ndcg"]},{"cell_type":"code","execution_count":140,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":6565,"status":"ok","timestamp":1701124016265,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"s6t614lgq13x","outputId":"90755cda-414a-4f54-b22a-2fc4078f1caa"},"outputs":[{"name":"stdout","output_type":"stream","text":["Mean Absolute Error: 2.2392\n","Root Mean Squared Error: 2.4974\n","Precision at 50: 0.0082\n","Recall at 50: 0.1512\n","F1 Score at 50: 0.0155\n","Mean Reciprocal Rank: 0.1953\n","NDCG at 50: 1.4315\n","Mean Average Precision at 50: 0.1570\n"]}],"source":["# Example usage:\n","# Assuming you have DataFrames 'top_n' and 'test' with the specified columns\n","\n","rmse_value = root_mean_squared_error_value(test,result,test_type='CF')\n","mae_value = mean_absolute_error_value(test,result,test_type='CF')\n","precision = precision_at_n(top_n, test, n=50,test_type='CF')\n","recall = recall_at_n(top_n, test, n=50,test_type='CF')\n","f1_score_value = f1_score_at_n(top_n, test, n=50,test_type='CF')\n","mrr = mean_reciprocal_rank(top_n, test,test_type='CF')\n","ndcg = ndcg_at_n(top_n, test, n=50,test_type='CF')\n","map_value = mean_average_precision_at_n(top_n, test, n=50,test_type='CF')\n","\n","\n","print(f\"Mean Absolute Error: {mae_value:.4f}\")\n","print(f\"Root Mean Squared Error: {rmse_value:.4f}\")\n","print(f\"Precision at 50: {precision:.4f}\")\n","print(f\"Recall at 50: {recall:.4f}\")\n","print(f\"F1 Score at 50: {f1_score_value:.4f}\")\n","print(f\"Mean Reciprocal Rank: {mrr:.4f}\")\n","print(f\"NDCG at 50: {ndcg:.4f}\")\n","print(f\"Mean Average Precision at 50: {map_value:.4f}\")"]},{"cell_type":"markdown","metadata":{"id":"XO7-FNJc-DNW"},"source":["#### Colaborative Filtering - Item Basis"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"_Ft76aE5-Iwi"},"outputs":[],"source":["result = pd.DataFrame(item_prediction)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"ws-jni2s-Iwi"},"outputs":[],"source":["result.index = [(i+1) for i in list(result.index)]\n","result.columns = [(i+1) for i in list(result.columns)]"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"0elRutA2-Iwj"},"outputs":[],"source":["result = result.reset_index()\n","result = result.rename(columns={'index':'user_code_new'})"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"6s0FpXgl-Iwj"},"outputs":[],"source":["result = result.melt(['user_code_new']).rename(columns={'variable':'poll_code_new','value':'predicted'})"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"smTITJAP-Iwj"},"outputs":[],"source":["result = result.sort_values(['user_code_new','predicted'], ascending=[True, False])\n","# result"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"o612qDoW-Iwj"},"outputs":[],"source":["def get_top_n(predictions, n=50, train=train, format='dict'):\n","\n","    train['train_flag']=1\n","    predictions = predictions.merge(train, on=('user_code_new','poll_code_new'),how='left')\n","    predictions = predictions[predictions.train_flag!=1]\n","\n","    # display(predictions.shape)\n","    # display(predictions)\n","\n","    predictions = predictions.sort_values(['user_code_new','predicted','poll_code_new'],ascending=[True,False,True])\n","    predictions = predictions.groupby('user_code_new').head(n)\n","\n","    if format=='dict' :\n","      top_n = dict()\n","      for i,row in a.iterrows():\n","        if row['user_code_new'] not in top_n:\n","          top_n[row['user_code_new']] = []\n","        top_n[row['user_code_new']].append((row['poll_code_new'],row['predicted']))\n","    else :\n","       top_n = predictions[['user_code_new','poll_code_new','predicted']]\n","\n","    return top_n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"jZkj5MM6-Iwj"},"outputs":[],"source":["top_n = get_top_n(result,n=50,train=train,format='df')"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":24,"status":"ok","timestamp":1701124009721,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"GzeNBtKK-Iwj","outputId":"5e681eb7-5a77-4b67-d482-0f4952fd49e0"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-05726d56-2bec-4b9f-929a-2e8909fa474a\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003euser_code_new\u003c/th\u003e\n","      \u003cth\u003epoll_code_new\u003c/th\u003e\n","      \u003cth\u003eevent_score\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e106484\u003c/th\u003e\n","      \u003ctd\u003e3209\u003c/td\u003e\n","      \u003ctd\u003e186\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e87644\u003c/th\u003e\n","      \u003ctd\u003e2181\u003c/td\u003e\n","      \u003ctd\u003e263\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e30397\u003c/th\u003e\n","      \u003ctd\u003e297\u003c/td\u003e\n","      \u003ctd\u003e633\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e29329\u003c/th\u003e\n","      \u003ctd\u003e282\u003c/td\u003e\n","      \u003ctd\u003e340\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4900\u003c/th\u003e\n","      \u003ctd\u003e45\u003c/td\u003e\n","      \u003ctd\u003e320\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e117816\u003c/th\u003e\n","      \u003ctd\u003e3820\u003c/td\u003e\n","      \u003ctd\u003e81\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e101028\u003c/th\u003e\n","      \u003ctd\u003e2885\u003c/td\u003e\n","      \u003ctd\u003e298\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e83950\u003c/th\u003e\n","      \u003ctd\u003e1972\u003c/td\u003e\n","      \u003ctd\u003e179\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e14302\u003c/th\u003e\n","      \u003ctd\u003e116\u003c/td\u003e\n","      \u003ctd\u003e311\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e8567\u003c/th\u003e\n","      \u003ctd\u003e76\u003c/td\u003e\n","      \u003ctd\u003e63\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e13039 rows  3 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-05726d56-2bec-4b9f-929a-2e8909fa474a')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-05726d56-2bec-4b9f-929a-2e8909fa474a button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-05726d56-2bec-4b9f-929a-2e8909fa474a');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-71645452-3bcd-48ad-bdf7-3600c4e7d449\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-71645452-3bcd-48ad-bdf7-3600c4e7d449')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-71645452-3bcd-48ad-bdf7-3600c4e7d449 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["        user_code_new  poll_code_new  event_score\n","106484           3209            186            3\n","87644            2181            263            3\n","30397             297            633            0\n","29329             282            340            3\n","4900               45            320            3\n","...               ...            ...          ...\n","117816           3820             81            3\n","101028           2885            298            0\n","83950            1972            179            3\n","14302             116            311            3\n","8567               76             63            3\n","\n","[13039 rows x 3 columns]"]},"execution_count":137,"metadata":{},"output_type":"execute_result"}],"source":["test"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":22,"status":"ok","timestamp":1701124009721,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"3EGgwUMY-Iwj","outputId":"29418619-c8ac-4580-b202-2fe70f4376d4"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-edcf1815-cf46-4226-bb99-6f3d39c62691\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003euser_code_new\u003c/th\u003e\n","      \u003cth\u003epoll_code_new\u003c/th\u003e\n","      \u003cth\u003epredicted\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e0\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e109\u003c/td\u003e\n","      \u003ctd\u003e0.464070\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e1\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e443\u003c/td\u003e\n","      \u003ctd\u003e0.440146\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e186\u003c/td\u003e\n","      \u003ctd\u003e0.426197\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e3\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e74\u003c/td\u003e\n","      \u003ctd\u003e0.372324\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4\u003c/th\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","      \u003ctd\u003e67\u003c/td\u003e\n","      \u003ctd\u003e0.351066\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4437658\u003c/th\u003e\n","      \u003ctd\u003e4835\u003c/td\u003e\n","      \u003ctd\u003e618\u003c/td\u003e\n","      \u003ctd\u003e0.125615\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4437659\u003c/th\u003e\n","      \u003ctd\u003e4835\u003c/td\u003e\n","      \u003ctd\u003e658\u003c/td\u003e\n","      \u003ctd\u003e0.124145\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4437660\u003c/th\u003e\n","      \u003ctd\u003e4835\u003c/td\u003e\n","      \u003ctd\u003e277\u003c/td\u003e\n","      \u003ctd\u003e0.122612\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4437661\u003c/th\u003e\n","      \u003ctd\u003e4835\u003c/td\u003e\n","      \u003ctd\u003e121\u003c/td\u003e\n","      \u003ctd\u003e0.122319\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e4437662\u003c/th\u003e\n","      \u003ctd\u003e4835\u003c/td\u003e\n","      \u003ctd\u003e8\u003c/td\u003e\n","      \u003ctd\u003e0.122148\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e241750 rows  3 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-edcf1815-cf46-4226-bb99-6f3d39c62691')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-edcf1815-cf46-4226-bb99-6f3d39c62691 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-edcf1815-cf46-4226-bb99-6f3d39c62691');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-1231bd84-cda9-454f-91aa-724bec05bdb8\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-1231bd84-cda9-454f-91aa-724bec05bdb8')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-1231bd84-cda9-454f-91aa-724bec05bdb8 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["         user_code_new poll_code_new  predicted\n","0                    1           109   0.464070\n","1                    1           443   0.440146\n","2                    1           186   0.426197\n","3                    1            74   0.372324\n","4                    1            67   0.351066\n","...                ...           ...        ...\n","4437658           4835           618   0.125615\n","4437659           4835           658   0.124145\n","4437660           4835           277   0.122612\n","4437661           4835           121   0.122319\n","4437662           4835             8   0.122148\n","\n","[241750 rows x 3 columns]"]},"execution_count":138,"metadata":{},"output_type":"execute_result"}],"source":["top_n"]},{"cell_type":"markdown","metadata":{"id":"Tf_ja8OO-Iwj"},"source":["##### CF - Metrics"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"_AaWm_iD-Iwj"},"outputs":[],"source":["# def mean_absolute_error_value(test,predictions,test_type='CB'):\n","#     \"\"\"\n","#     Calculate Mean Absolute Error (MAE).\n","#     \"\"\"\n","\n","#     if test_type == \"CB\" :\n","#       # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","#       test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","#     test = test.merge(predictions,on=('user_code_new','poll_code_new'),how='left')\n","#     return mean_absolute_error(test['event_score'], test['predicted'])\n","\n","# def root_mean_squared_error_value(test,predictions,test_type='CB'):\n","#     \"\"\"\n","#     Calculate Root Mean Squared Error (RMSE).\n","#     \"\"\"\n","\n","#     if test_type == \"CB\" :\n","#       # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","#       test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","#     test = test.merge(predictions,on=('user_code_new','poll_code_new'),how='left')\n","#     return np.sqrt(mean_squared_error(test['event_score'], test['predicted']))\n","\n","# def precision_at_n(top_n, test, n=50,test_type='CB'):\n","#     \"\"\"\n","#     Calculate Precision at N.\n","#     \"\"\"\n","\n","#     if test_type == \"CB\" :\n","#       # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","#       test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","#     merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","#     return len(merged_df) / top_n.shape[0] if top_n.shape[0] \u003e 0 else 0\n","\n","# def recall_at_n(top_n, test, n=50,test_type='CB'):\n","#     \"\"\"\n","#     Calculate Recall at N.\n","#     \"\"\"\n","#     if test_type == \"CB\" :\n","#       # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","#       test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","#     merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","#     return len(merged_df) / len(test) if len(test) \u003e 0 else 0\n","\n","# def f1_score_at_n(top_n, test, n=50,test_type='CB'):\n","#     \"\"\"\n","#     Calculate F1 Score at N.\n","#     \"\"\"\n","\n","#     if test_type == \"CB\" :\n","#       # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","#       test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","#     precision = precision_at_n(top_n, test, n)\n","#     recall = recall_at_n(top_n, test, n)\n","#     return 2 * (precision * recall) / (precision + recall) if (precision + recall) \u003e 0 else 0\n","\n","# def mean_reciprocal_rank(top_n, test,test_type='CB'):\n","#     \"\"\"\n","#     Calculate Mean Reciprocal Rank (MRR).\n","#     \"\"\"\n","#     if test_type == \"CB\" :\n","#       # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","#       test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","#     top_n['n_rank'] = top_n.groupby('user_code_new')['predicted'].rank(ascending=False)\n","#     merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","#     merged_df['rank'] = merged_df.groupby('user_code_new')['predicted'].rank(ascending=False)\n","#     reciprocal_rank = 1 / merged_df[merged_df['rank'] == 1]['n_rank']\n","#     return np.mean(reciprocal_rank) if len(reciprocal_rank) \u003e 0 else 0\n","\n","\n","# def mean_average_precision_at_n(top_n, test, n=50,test_type='CB'):\n","#     \"\"\"\n","#     Calculate Mean Average Precision (MAP) at N.\n","#     \"\"\"\n","#     if test_type == \"CB\" :\n","#       # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","#       test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","#     average_precision_list = []\n","#     for _, group in top_n.groupby('user_code_new'):\n","#         relevant_items = set(test[test['user_code_new'] == group['user_code_new'].iloc[0]]['poll_code_new'].values)\n","#         precision_at_k_list = []\n","#         cumulative_precision = 0\n","#         for i, item_id in enumerate(group['poll_code_new']):\n","#             if item_id in relevant_items:\n","#                 cumulative_precision += 1\n","#                 precision_at_k_list.append(cumulative_precision / (i + 1))\n","#         if precision_at_k_list:\n","#             average_precision_list.append(np.mean(precision_at_k_list))\n","#     return np.mean(average_precision_list) if average_precision_list else 0\n","\n","# def ndcg_at_n(top_n, test, n=50,test_type='CB'):\n","#     \"\"\"\n","#     Calculate Normalized Discounted Cumulative Gain (NDCG) at N.\n","#     \"\"\"\n","#     if test_type == \"CB\" :\n","#       # some test cases are not part of the predictions in Content Based Filtering as the characteristics of those polls are not available\n","#       test = test[~test.poll_code_new.isin(missing_poll_code)]\n","\n","#     merged_df = pd.merge(top_n, test, on=['user_code_new', 'poll_code_new'], how='inner')\n","#     merged_df['rank'] = merged_df.groupby('user_code_new')['predicted'].rank(ascending=False)\n","#     merged_df['dcg'] = (2 ** merged_df['event_score']) / np.log2(merged_df['rank'] + 1)\n","#     merged_df['idcg'] = (2 ** merged_df['event_score']) / np.log2(merged_df['rank'] + 2)\n","#     ndcg = np.mean(merged_df['dcg'] / merged_df['idcg']) if len(merged_df) \u003e 0 else 0\n","#     return ndcg"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":6565,"status":"ok","timestamp":1701124016265,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"7b4c-8GY-Iwj","outputId":"90755cda-414a-4f54-b22a-2fc4078f1caa"},"outputs":[{"name":"stdout","output_type":"stream","text":["Mean Absolute Error: 2.2392\n","Root Mean Squared Error: 2.4974\n","Precision at 50: 0.0082\n","Recall at 50: 0.1512\n","F1 Score at 50: 0.0155\n","Mean Reciprocal Rank: 0.1953\n","NDCG at 50: 1.4315\n","Mean Average Precision at 50: 0.1570\n"]}],"source":["# Example usage:\n","# Assuming you have DataFrames 'top_n' and 'test' with the specified columns\n","\n","rmse_value = root_mean_squared_error_value(test,result,test_type='CF')\n","mae_value = mean_absolute_error_value(test,result,test_type='CF')\n","precision = precision_at_n(top_n, test, n=50,test_type='CF')\n","recall = recall_at_n(top_n, test, n=50,test_type='CF')\n","f1_score_value = f1_score_at_n(top_n, test, n=50,test_type='CF')\n","mrr = mean_reciprocal_rank(top_n, test,test_type='CF')\n","ndcg = ndcg_at_n(top_n, test, n=50,test_type='CF')\n","map_value = mean_average_precision_at_n(top_n, test, n=50,test_type='CF')\n","\n","\n","print(f\"Mean Absolute Error: {mae_value:.4f}\")\n","print(f\"Root Mean Squared Error: {rmse_value:.4f}\")\n","print(f\"Precision at 50: {precision:.4f}\")\n","print(f\"Recall at 50: {recall:.4f}\")\n","print(f\"F1 Score at 50: {f1_score_value:.4f}\")\n","print(f\"Mean Reciprocal Rank: {mrr:.4f}\")\n","print(f\"NDCG at 50: {ndcg:.4f}\")\n","print(f\"Mean Average Precision at 50: {map_value:.4f}\")"]},{"cell_type":"markdown","metadata":{"id":"f3QcX4hBueSH"},"source":["#### Collaborative Filtering (SVD implimentation)\n","\n","#### Using Latent Features"]},{"cell_type":"code","execution_count":151,"metadata":{"executionInfo":{"elapsed":202,"status":"ok","timestamp":1701124594679,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"7rcCrybsueMK"},"outputs":[],"source":["from surprise import Reader, Dataset, SVD\n","# , evaluate"]},{"cell_type":"code","execution_count":156,"metadata":{"executionInfo":{"elapsed":598,"status":"ok","timestamp":1701124656074,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"5muhTRJ844Wf"},"outputs":[],"source":["# Get minimum and maximum rating from the dataset\n","min_rating = ratings.event_score.min()\n","max_rating = ratings.event_score.max()\n","\n","reader = Reader(rating_scale=(min_rating, max_rating))\n","data = Dataset.load_from_df(ratings[['user_code_new', 'poll_code_new', 'event_score']], reader)"]},{"cell_type":"code","execution_count":157,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":19417,"status":"ok","timestamp":1701124716035,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"VMAS8OAATiT_","outputId":"3c823055-9c6b-40ae-8399-c44376c76624"},"outputs":[{"name":"stdout","output_type":"stream","text":["Evaluating RMSE, MAE of algorithm SVD on 10 split(s).\n","\n","                  Fold 1  Fold 2  Fold 3  Fold 4  Fold 5  Fold 6  Fold 7  Fold 8  Fold 9  Fold 10 Mean    Std     \n","RMSE (testset)    1.1030  1.0989  1.1020  1.1048  1.0964  1.1137  1.0995  1.1104  1.1188  1.1183  1.1066  0.0078  \n","MAE (testset)     0.7727  0.7705  0.7727  0.7742  0.7688  0.7795  0.7721  0.7787  0.7877  0.7844  0.7761  0.0059  \n","Fit time          1.17    1.14    1.80    1.82    2.18    1.64    1.16    1.16    1.17    1.14    1.44    0.37    \n","Test time         0.10    0.30    0.15    0.15    0.15    0.14    0.08    0.09    0.23    0.11    0.15    0.07    \n"]}],"source":["from surprise.model_selection import cross_validate\n","\n","svd = SVD(n_epochs=10)\n","results = cross_validate(svd, data, measures=['RMSE', 'MAE'], cv=10, verbose=True)"]},{"cell_type":"code","execution_count":158,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":237,"status":"ok","timestamp":1701124783633,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"PFSHUxdCCQjh","outputId":"0fa47166-7417-49f4-82f2-bd7b421f6cf3"},"outputs":[{"name":"stdout","output_type":"stream","text":["Average MAE:  0.7761443948410878\n","Average RMSE:  1.1065794976005336\n"]}],"source":["print(\"Average MAE: \", np.average(results[\"test_mae\"]))\n","print(\"Average RMSE: \", np.average(results[\"test_rmse\"]))"]},{"cell_type":"code","execution_count":160,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":589507,"status":"ok","timestamp":1701125633827,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"_ULioXek8Dv0","outputId":"839ec3b7-73ba-4594-ab49-1e28d552a93f"},"outputs":[{"name":"stdout","output_type":"stream","text":["1.088728844761336\n","{'n_factors': 1, 'n_epochs': 100}\n"]}],"source":["from surprise import SVD\n","from surprise.model_selection import GridSearchCV\n","\n","param_grid = {\n","  'n_factors': [1,3,5,10,20],\n","  'n_epochs': [5, 10, 20, 50, 100]\n","}\n","\n","gs = GridSearchCV(SVD, param_grid, measures=['rmse', 'mae'], cv=10)\n","gs.fit(data)\n","\n","print(gs.best_score['rmse'])\n","print(gs.best_params['rmse'])"]},{"cell_type":"code","execution_count":163,"metadata":{"executionInfo":{"elapsed":365,"status":"ok","timestamp":1701125741355,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"eDQa5Rmb9U4m"},"outputs":[],"source":["# best hyperparameters\n","try :\n","  best_factor = gs.best_params['rmse']['n_factors']\n","  best_epoch = gs.best_params['rmse']['n_epochs']\n","except :\n","  best_factor = 1\n","  best_epoch = 100"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"hGBVt-K2_2Sw"},"outputs":[],"source":["test"]},{"cell_type":"code","execution_count":167,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":234,"status":"ok","timestamp":1701125832279,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"ySSeS--uADO9","outputId":"0462ce33-e38b-472d-eb4f-b0fa5511be2a"},"outputs":[{"data":{"text/html":["\n","  \u003cdiv id=\"df-d5754f91-1166-4c28-9aa7-ceb0d6e1b355\" class=\"colab-df-container\"\u003e\n","    \u003cdiv\u003e\n","\u003cstyle scoped\u003e\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","\u003c/style\u003e\n","\u003ctable border=\"1\" class=\"dataframe\"\u003e\n","  \u003cthead\u003e\n","    \u003ctr style=\"text-align: right;\"\u003e\n","      \u003cth\u003e\u003c/th\u003e\n","      \u003cth\u003euser_code_new\u003c/th\u003e\n","      \u003cth\u003epoll_code_new\u003c/th\u003e\n","      \u003cth\u003eevent_score\u003c/th\u003e\n","      \u003cth\u003etrain_flag\u003c/th\u003e\n","    \u003c/tr\u003e\n","  \u003c/thead\u003e\n","  \u003ctbody\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e125026\u003c/th\u003e\n","      \u003ctd\u003e4242\u003c/td\u003e\n","      \u003ctd\u003e442\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e15131\u003c/th\u003e\n","      \u003ctd\u003e121\u003c/td\u003e\n","      \u003ctd\u003e774\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e17294\u003c/th\u003e\n","      \u003ctd\u003e136\u003c/td\u003e\n","      \u003ctd\u003e495\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e2157\u003c/th\u003e\n","      \u003ctd\u003e21\u003c/td\u003e\n","      \u003ctd\u003e648\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e49853\u003c/th\u003e\n","      \u003ctd\u003e673\u003c/td\u003e\n","      \u003ctd\u003e154\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e...\u003c/th\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","      \u003ctd\u003e...\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e118253\u003c/th\u003e\n","      \u003ctd\u003e3859\u003c/td\u003e\n","      \u003ctd\u003e67\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e12633\u003c/th\u003e\n","      \u003ctd\u003e108\u003c/td\u003e\n","      \u003ctd\u003e695\u003c/td\u003e\n","      \u003ctd\u003e0\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e84744\u003c/th\u003e\n","      \u003ctd\u003e2004\u003c/td\u003e\n","      \u003ctd\u003e212\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e14868\u003c/th\u003e\n","      \u003ctd\u003e121\u003c/td\u003e\n","      \u003ctd\u003e108\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","    \u003ctr\u003e\n","      \u003cth\u003e59213\u003c/th\u003e\n","      \u003ctd\u003e919\u003c/td\u003e\n","      \u003ctd\u003e76\u003c/td\u003e\n","      \u003ctd\u003e3\u003c/td\u003e\n","      \u003ctd\u003e1\u003c/td\u003e\n","    \u003c/tr\u003e\n","  \u003c/tbody\u003e\n","\u003c/table\u003e\n","\u003cp\u003e117345 rows  4 columns\u003c/p\u003e\n","\u003c/div\u003e\n","    \u003cdiv class=\"colab-df-buttons\"\u003e\n","\n","  \u003cdiv class=\"colab-df-container\"\u003e\n","    \u003cbutton class=\"colab-df-convert\" onclick=\"convertToInteractive('df-d5754f91-1166-4c28-9aa7-ceb0d6e1b355')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\"\u003e\n","\n","  \u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\"\u003e\n","    \u003cpath d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/\u003e\n","  \u003c/svg\u003e\n","    \u003c/button\u003e\n","\n","  \u003cstyle\u003e\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  \u003c/style\u003e\n","\n","    \u003cscript\u003e\n","      const buttonEl =\n","        document.querySelector('#df-d5754f91-1166-4c28-9aa7-ceb0d6e1b355 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-d5754f91-1166-4c28-9aa7-ceb0d6e1b355');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '\u003ca target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb\u003edata table notebook\u003c/a\u003e'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    \u003c/script\u003e\n","  \u003c/div\u003e\n","\n","\n","\u003cdiv id=\"df-c418de50-c03c-4b10-9fe8-9037143c28bd\"\u003e\n","  \u003cbutton class=\"colab-df-quickchart\" onclick=\"quickchart('df-c418de50-c03c-4b10-9fe8-9037143c28bd')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\"\u003e\n","\n","\u003csvg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\"\u003e\n","    \u003cg\u003e\n","        \u003cpath d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/\u003e\n","    \u003c/g\u003e\n","\u003c/svg\u003e\n","  \u003c/button\u003e\n","\n","\u003cstyle\u003e\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","\u003c/style\u003e\n","\n","  \u003cscript\u003e\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() =\u003e {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-c418de50-c03c-4b10-9fe8-9037143c28bd button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  \u003c/script\u003e\n","\u003c/div\u003e\n","    \u003c/div\u003e\n","  \u003c/div\u003e\n"],"text/plain":["        user_code_new  poll_code_new  event_score  train_flag\n","125026           4242            442            0           1\n","15131             121            774            0           1\n","17294             136            495            3           1\n","2157               21            648            3           1\n","49853             673            154            3           1\n","...               ...            ...          ...         ...\n","118253           3859             67            0           1\n","12633             108            695            0           1\n","84744            2004            212            3           1\n","14868             121            108            3           1\n","59213             919             76            3           1\n","\n","[117345 rows x 4 columns]"]},"execution_count":167,"metadata":{},"output_type":"execute_result"}],"source":["train"]},{"cell_type":"code","execution_count":179,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":13347,"status":"ok","timestamp":1701126637057,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"pTyZkaogAJsl","outputId":"43da1d38-00dd-4b67-e763-4f2cb9e013e4"},"outputs":[{"data":{"text/plain":["\u003csurprise.prediction_algorithms.matrix_factorization.SVD at 0x7c696b437e20\u003e"]},"execution_count":179,"metadata":{},"output_type":"execute_result"}],"source":["# sample same trainset and testset\n","trainset = Dataset.load_from_df(train[['user_code_new', 'poll_code_new', 'event_score']], reader).build_full_trainset()\n","\n","# We'll use the famous SVD algorithm.\n","svd = SVD(n_factors=best_factor, n_epochs=best_epoch)\n","\n","# Train the algorithm on the trainset\n","svd.fit(trainset)"]},{"cell_type":"code","execution_count":190,"metadata":{"executionInfo":{"elapsed":4013,"status":"ok","timestamp":1701128009630,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"sUw8lUk3Bcb5"},"outputs":[],"source":["temp = Dataset.load_from_df(ratings[['user_code_new', 'poll_code_new', 'event_score']], reader).build_full_trainset()\n","testset = temp.build_anti_testset()"]},{"cell_type":"code","execution_count":191,"metadata":{"executionInfo":{"elapsed":36992,"status":"ok","timestamp":1701128057214,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"QKTCtdWkEqXe"},"outputs":[],"source":["predictions = svd.test(testset)"]},{"cell_type":"code","execution_count":202,"metadata":{"executionInfo":{"elapsed":4348,"status":"ok","timestamp":1701128551309,"user":{"displayName":"Samriddh Lakhmani","userId":"02521612938973610721"},"user_tz":0},"id":"LvDEAsJbA1vM"},"outputs":[],"source":["from collections import defaultdict\n","\n","result = defaultdict(list)\n","\n","for uid, iid, _ , pred, _ in predictions:\n","\n","  if uid not in result.keys():\n","    result[uid] = list()\n","  result[uid].append(pred)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true,"output_embedded_package_id":"12U-419ePkJyyVGBUhCzGG-bxRBxcaqzf"},"id":"6g0283qCI3uQ","outputId":"91c22e41-2b7e-4d7e-9c64-965b57e0d7f5"},"outputs":[],"source":["result"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"9k_7tTjLKfEW"},"outputs":[],"source":[]}],"metadata":{"colab":{"authorship_tag":"ABX9TyOCuLa2Rlox5AHiMyHnf+oS","name":"","toc_visible":true,"version":""},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}